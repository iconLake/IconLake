var __awaiter=this&&this.__awaiter||function(t,a,r,s){return new(r=r||Promise)(function(e,n){function i(t){try{c(s.next(t))}catch(t){n(t)}}function o(t){try{c(s.throw(t))}catch(t){n(t)}}function c(t){var n;t.done?e(t.value):((n=t.value)instanceof r?n:new r(function(t){t(n)})).then(i,o)}c((s=s.apply(t,a||[])).next())})};(t=>{var n=!/test|localhost|127\.0\.0\.1/i.test(location.href);const e=n?"https://lcd.iconlake.com":"https://lcd.testnet.iconlake.com";var i=document.querySelector(".loading");if(i){const o={isShow:!1,dom:i},c=(Object.defineProperties(o,{isShow:{get(){var t;return null==(t=o.dom)?void 0:t.classList.contains("show")},set(t){t?null!=(t=o.dom)&&t.classList.add("show"):null!=(t=o.dom)&&t.classList.remove("show")}}}),n=>{if(n instanceof Object){if(n instanceof Array)return n.map(c);const e={};return Object.keys(n).forEach(t=>{"_"!==t[0]&&(e[t.replace(/_([a-z])/g,t=>t[1].toUpperCase())]=c(n[t]))}),e}return n}),a={id:""},r=(Object.defineProperties(a,{id:{get(){var t=location.pathname.match(/^\/exhibition\/([^/?#]+).*/);return null==t?void 0:t[1]},set(){console.log("id is readonly")}}}),a.getNfts=n=>__awaiter(void 0,void 0,void 0,function*(){var t=null!=n?n:a.id;return yield fetch(e+"/iconlake/icon/nfts?class_id="+t).then(t=>t.json()).then(c)}),a.getInfo=n=>__awaiter(void 0,void 0,void 0,function*(){var t=null!=n?n:a.id;return yield fetch(e+"/iconlake/icon/class?id="+t).then(t=>t.json()).then(t=>c(t.class))}),{id:""});Object.defineProperties(r,{id:{get(){var t=location.pathname.match(/^\/exhibition\/[^/?#]+\/([^/?#]+).*/);return null==t?void 0:t[1]},set(){console.log("id is readonly")}}}),r.getInfo=n=>__awaiter(void 0,void 0,void 0,function*(){var t=null!=n?n:r.id;return yield fetch(e+`/iconlake/icon/nft?class_id=${a.id}&id=`+t).then(t=>t.json()).then(t=>c(t.nft))}),t.iconlakeAPI={version:1,isProduction:n,config:{lcd:e},loading:o,project:a,nft:r}}})(window);