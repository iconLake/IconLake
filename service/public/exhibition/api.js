var __awaiter=this&&this.__awaiter||function(t,r,c,s){return new(c=c||Promise)(function(n,e){function i(t){try{a(s.next(t))}catch(t){e(t)}}function o(t){try{a(s.throw(t))}catch(t){e(t)}}function a(t){var e;t.done?n(t.value):((e=t.value)instanceof c?e:new c(function(t){t(e)})).then(i,o)}a((s=s.apply(t,r||[])).next())})};(t=>{var e=!/test|localhost|127\.0\.0\.1/i.test(location.href);const n=e?"https://lcd.iconlake.com":"https://lcd.testnet.iconlake.com";var i=document.querySelector(".loading");if(i){const o={isShow:!1,dom:i},a=(Object.defineProperties(o,{isShow:{get(){var t;return null==(t=o.dom)?void 0:t.classList.contains("show")},set(t){t?null!=(t=o.dom)&&t.classList.add("show"):null!=(t=o.dom)&&t.classList.remove("show")}}}),e=>{if(e instanceof Object){if(e instanceof Array)return e.map(a);const n={};return Object.keys(e).forEach(t=>{"_"!==t[0]&&(n[t.replace(/_([a-z])/g,t=>t[1].toUpperCase())]=a(e[t]))}),n}return e}),r={id:""},c=(Object.defineProperties(r,{id:{get(){var t=location.pathname.match(/^\/exhibition\/([^/?#]+).*/);return null==t?void 0:t[1]},set(){console.log("id is readonly")}}}),r.getNfts=e=>__awaiter(void 0,void 0,void 0,function*(){var t=null!=e?e:r.id;return yield fetch(n+"/iconlake/icon/nfts?class_id="+t).then(t=>t.json()).then(a)}),r.getInfo=e=>__awaiter(void 0,void 0,void 0,function*(){var t=null!=e?e:r.id;return yield fetch(n+"/iconlake/icon/class?id="+t).then(t=>t.json()).then(t=>a(t.class))}),{id:""});Object.defineProperties(c,{id:{get(){var t=location.pathname.match(/^\/exhibition\/[^/?#]+\/([^/?#]+).*/);return null==t?void 0:t[1]},set(){console.log("id is readonly")}}}),c.getInfo=e=>__awaiter(void 0,void 0,void 0,function*(){var t=null!=e?e:c.id;return yield fetch(n+`/iconlake/icon/nft?class_id=${r.id}&id=`+t).then(t=>t.json()).then(t=>a(t.nft))}),t.iconlakeAPI={version:1,isProduction:e,config:{lcd:n},loading:o,project:r,nft:c,verifyHash:function(t,e){return fetch(t).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>__awaiter(this,void 0,void 0,function*(){return(yield import("/libs/js-sha256/sha256.min.js")).default.sha256(t)===e?1:0})).catch(t=>(console.error(t),-1))}}}})(window);