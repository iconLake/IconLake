var __awaiter=this&&this.__awaiter||function(t,a,d,l){return new(d=d||Promise)(function(n,e){function i(t){try{c(l.next(t))}catch(t){e(t)}}function o(t){try{c(l.throw(t))}catch(t){e(t)}}function c(t){var e;t.done?n(t.value):((e=t.value)instanceof d?e:new d(function(t){t(e)})).then(i,o)}c((l=l.apply(t,a||[])).next())})};__awaiter(this,void 0,void 0,function*(){var t=!/test|localhost|127\.0\.0\.1/i.test(location.href)?"https://lcd.iconlake.com":"https://lcd.testnet.iconlake.com",e=location.pathname.split("/"),n=e[2];if(n){e=e[3];if(e){var i=document.querySelector("iconlake-nft");if(i){t=yield fetch(t+`/iconlake/icon/nft?classId=${n}&id=`+e).then(t=>t.json()).catch(console.error);if(t){n=yield fetch(`/api/blacklist/verify/nft?address=${t.nft.data.author}&projectId=${n}&nftId=`+e).then(t=>t.json()).catch(console.error);if(!n.error){if(n.block.nftId){if(!(yield fetch("/api/admin/info/verify").then(t=>t.json()).then(t=>t.isAdmin)))return void(i.innerHTML='<h1 class="blocked">This NFT has been blocked.</h1>');e=document.createElement("div");let t="NFT";n.block.address?t="作者":n.block.projectId&&(t="项目"),e.innerText="封:"+t,e.className="blocked-admin",document.body.appendChild(e)}i.setAttribute("info",JSON.stringify(t.nft)),import("./default-template-nft.js").then(t=>{customElements.define("iconlake-nft",t.default)})}}}}}}),"#admin"===location.hash&&fetch("/api/admin/info/verify").then(t=>t.json()).then(t=>{t.isAdmin&&((t=document.createElement("script")).src="/admin/blacklist/init.js",document.body.appendChild(t))});