var __awaiter=this&&this.__awaiter||function(e,d,c,r){return new(c=c||Promise)(function(i,n){function t(e){try{a(r.next(e))}catch(e){n(e)}}function o(e){try{a(r.throw(e))}catch(e){n(e)}}function a(e){var n;e.done?i(e.value):((n=e.value)instanceof c?n:new c(function(e){e(n)})).then(t,o)}a((r=r.apply(e,d||[])).next())})};__awaiter(void 0,void 0,void 0,function*(){var n=window.iconlakeAPI;if(n){var i=document.querySelector("iconlake-nft");if(i){var t=yield n.nft.getInfo();if(t){t=yield fetch(`/api/blacklist/verify/nft?address=${t.data.author}&projectId=${n.project.id}&nftId=`+n.nft.id).then(e=>e.json()).catch(console.error);if(!t.error){if(t.block.nftId){if(!(yield fetch("/api/admin/info/verify").then(e=>e.json()).then(e=>e.isAdmin)))return i.innerHTML='<h1 class="blocked">This NFT has been blocked.</h1>',void(n.loading.isShow=!1);var o=document.createElement("div");let e="NFT";t.block.address?e="作者":t.block.projectId&&(e="项目"),o.innerText="封:"+e,o.className="blocked-admin",document.body.appendChild(o)}import("/themes/default/components/nft-b31a686d.js").then(e=>{customElements.define("iconlake-nft",e.default)})}}else i.innerHTML='<h1 class="blocked">This NFT have not been published to the chain.</h1>',n.loading.isShow=!1}}else console.error("window.iconlakeAPI is not defined")}),"#admin"===location.hash&&fetch("/api/admin/info/verify").then(e=>e.json()).then(e=>{e.isAdmin&&((e=document.createElement("script")).src="/admin/blacklist/init.js",document.body.appendChild(e))});