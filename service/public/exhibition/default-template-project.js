export default class DefaultTemplate extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});var e=document.createDocumentFragment(),t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","/exhibition/default-template-project.css"),e.appendChild(t);let n=document.createElement("div");n.className="info",e.appendChild(n),(n=document.createElement("div")).className="nfts",e.appendChild(n),null!=(t=this.shadowRoot)&&t.appendChild(e);const a=window.iconlakeAPI;a?(a.project.getInfo().then(e=>{this.shadowRoot&&this.renderInfo(this.shadowRoot,e),a.loading.isShow=!1}),a.project.getNfts().then(e=>{this.shadowRoot&&this.renderNfts(this.shadowRoot,e.nfts)})):console.error("window.iconlakeAPI is not defined")}renderInfo(e,t){var n,e=e.querySelector(".info");e&&(e.innerHTML="",(n=document.createElement("div")).style.backgroundImage=`url(${null==t?void 0:t.uri})`,n.className="cover",e.appendChild(n),(e=document.createElement("div")).className="content",n.appendChild(e),(n=document.createElement("h1")).innerText=(null==t?void 0:t.name)||"尚未设置链上信息",e.appendChild(n),null!=t&&t.description&&((n=document.createElement("h2")).innerText=t.description,e.appendChild(n)),(n=document.createElement("h3")).innerText=null!=t&&t.data.author?"Created by "+(null==t?void 0:t.data.author):"",e.appendChild(n))}renderNfts(e,t){e=e.querySelector(".nfts");if(e){e.innerHTML="";const n=document.createElement("div");n.className="nfts-container",e.appendChild(n),t.forEach(e=>{this.renderNft(n,e)})}}renderNft(e,t){var n=document.createElement("a"),a=(n.href=`/exhibition/${encodeURIComponent(t.classId)}/`+encodeURIComponent(t.id),n.className="nft",document.createElement("div"));a.className="nft-cover",n.appendChild(a);let d=document.createElement("div");d.className="nft-img",d.style.backgroundImage=`url(${t.uri})`,a.appendChild(d),(d=document.createElement("div")).innerText=t.data.name,d.className="nft-name",n.appendChild(d),e.appendChild(n)}}