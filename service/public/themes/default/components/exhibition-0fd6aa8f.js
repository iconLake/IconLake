function a(i){const e=document.createElement("div");e.innerHTML=i;const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t}function l(i){const e=document.createElement("style");return e.textContent=i,e}const r=l;class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(r(".class { height: 100vh; display: flex; align-items: center; justify-content: center; flex-direction: column; color: #fff; font-family: sans-serif; line-height: 1.8; padding: 0 80px; } .class .cover { width: 100%; height: 100%; position: absolute; top: 0; left: 0; background-size: cover; } .class .title { font-size: 50px; font-weight: bold; position: relative; } .class .desc { font-size: 18px; margin-bottom: 40px; position: relative; } .class .author { font-size: 12px; position: absolute; left: 0; bottom: 20px; right: 0; text-align: center; } .class .share { display: inline-block; line-height: 1; vertical-align: middle; cursor: pointer; } .list { display: flex; flex-wrap: wrap; margin-top: 30px; font-family: sans-serif; } .item { width: 12.5vw; text-align: center; color: #000; margin-bottom: 30px; text-decoration: none; transition: all 0.3s; } .item:hover { transform: scale(1.1); } .item .cover { width: 8vw; height: 8vw; background-size: contain; background-repeat: no-repeat; background-position: center; margin: 0 auto; } .item .title { margin: 0; padding: 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 12px; }")),Promise.all([window.iconlakeAPI.class.getInfo(window.iconlakeAPI.class.id),window.iconlakeAPI.class.getNfts(window.iconlakeAPI.class.id)]).then(([e,t])=>{this.renderClass(e),this.renderNfts(t,e),window.iconlakeAPI.loading.isShow=!1})}renderClass(e){const t=a(`<div class="class"><div class="cover" style="background-image:url(${e.uri})"></div><div class="title">${e.name}</div><div class="desc">${e.description}</div><div class="author">Created by ${e.data.author} <span class="share"></span></div></div>`),s=t.querySelector(".class");s.addEventListener("click",()=>{window.scrollTo({top:s.offsetHeight-100,behavior:"smooth"})}),this.shadowRoot.appendChild(t),window.iconlakeAPI.share.load(this.shadowRoot.querySelector(".share"),{classId:e.id})}renderNfts(e,t){const s=o=>`<a class="item" href="/exhibition/${t.id}/${o.id}"><div class="cover" style="background-image:url(${o.uri})"></div><p class="title">${o.data.name}</p></a>`,n=a(`<div class="list">${e.nfts.map(s).join("")}</div>`);this.shadowRoot.appendChild(n)}}export{c as default};
