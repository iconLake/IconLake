(()=>{var e=window["{{SPIDER}}"];const o=window["{{HOST}}"],t=encodeURIComponent("{{_ID}}"),c="iconlakeRecord",n="function"==typeof e?e:()=>{const t=[],n="iconlake",c="icon-",r=new RegExp(c+"(\\S+)","i");return document.body.querySelectorAll("."+n).forEach(e=>{var o=e.className.match(r),o=o?o[1]:null;o&&t.push({elem:e,code:o,prefix:c,class:n})}),t};let r=location.href;const s={};function a(e){fetch(o+"/visit/record/"+t,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:e})}function i(e,o=!1){const t=s[e],n=(s[e]={},[]);Object.keys(t).forEach(e=>{e=t[e];n.push({code:e.code,prefix:e.prefix,class:e.class,count:e.elems.size,time:e.time})}),0<n.length&&(e=JSON.stringify({records:n,url:e}),o?localStorage.setItem(c,e):a(e))}new MutationObserver(function(){const t=location.href;t in s||(s[t]={}),n().forEach(e=>{var o=""+e.class+e.prefix+e.code;o in s[t]||(s[t][o]=Object.assign(Object.assign({},e),{elems:new Set,time:0})),s[t][o].elems.add(e.elem),s[t][o].time=Date.now()})}).observe(document.body,{subtree:!0,childList:!0}),setInterval(()=>{r!==location.href&&(i(r),r=location.href)},20),window.addEventListener("unload",()=>{i(location.href,!0)});e=localStorage.getItem(c);if(e)try{var l=JSON.parse(e);l.records instanceof Array&&0<l.records.length&&(a(e),localStorage.removeItem(c))}catch(e){console.error(e)}})();