import{p as ue,Y as Ot,n as ge,o as Fe,R as Br,e as W,a1 as Pr,m as le,a3 as De,a8 as Fr,a4 as st,Q as Ye,d as ke,G as Je,k as oe,c as ce,q as Ne,J as Dr,Z as Yt,B as it,a9 as jr,N as Lr,F as Ie,aa as Nr,ab as Ur,a as Ee,l as xe,w as Ce,S as rn,f as ve,H as Ut,M as Mr,a0 as $r,T as vt,a6 as Wr,ac as Zr,ad as Hr,ae as Gr,af as Vr,t as fe,u as Et,r as Xn,ag as xn,b as q,C as Lt,h as qe,ah as Kr,j as Xt,v as Qt,_ as xt,A as qr,E as Jr,i as Yr}from"./index.c3ac6b9b.js";import{B as Pe,p as Xr}from"./@iconlake/client.0b258216.js";import{d as He,P as We,t as Se,U as Qr,r as eo,k as to,l as on,f as Sn,S as Rt,j as no,h as Cn,O as ro,m as oo}from"./cache.05004cf3.js";import{a as zt,c as gt}from"./index.9c1809da.js";import{k as io,l as In,a as Qn,u as en,m as so,p as er,n as ao,o as lo,q as uo}from"./project.3e053923.js";import{g as Ht,I as bt}from"./Icon.baf4c0eb.js";import{S as Mt}from"./Select.5e65dca5.js";import{H as tr,d as ye,v as et,i as nr,I as An,s as co,G as fo,b as Ve,e as rr,_ as Xe,g as St,J as $t,a as Tn,w as or}from"./base.1da06d96.js";import{u as ir,i as sn,o as po,E as ho}from"./el-progress.4a229156.js";import{i as mo,a as vo,g as go}from"./file.fa12e67d.js";import{H as _o}from"./Header.5323aa62.js";import{U as yo}from"./User.3e9238d3.js";import{L as an}from"./Loading.7dd0339b.js";import{e as Bt}from"./extension.dbd15d4c.js";import{e as ot}from"./event.47491da9.js";import{u as bo}from"./user.237cd0b6.js";import{u as wo}from"./ticket.d2ccb1ce.js";import{a as ko,u as Eo}from"./index.2e271802.js";const Ze=(o,i,{checkForDefaultPrevented:e=!0}={})=>l=>{const s=o==null?void 0:o(l);if(e===!1||!s)return i==null?void 0:i(l)};function xo(o){return o===void 0}const Wt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},So=tr({type:ye(Boolean),default:null}),Co=tr({type:ye(Function)}),Io=o=>{const i=`update:${o}`,e=`onUpdate:${o}`,m=[i],l={[o]:So,[e]:Co};return{useModelToggle:({indicator:r,toggleReason:t,shouldHideWhenRouteChanges:c,shouldProceed:p,onShow:a,onHide:g})=>{const y=Br(),{emit:h}=y,v=y.props,u=ue(()=>Ot(v[e])),_=ue(()=>v[o]===null),f=A=>{r.value!==!0&&(r.value=!0,t&&(t.value=A),Ot(a)&&a(A))},w=A=>{r.value!==!1&&(r.value=!1,t&&(t.value=A),Ot(g)&&g(A))},x=A=>{if(v.disabled===!0||Ot(p)&&!p())return;const O=u.value&&et;O&&h(i,!0),(_.value||!O)&&f(A)},S=A=>{if(v.disabled===!0||!et)return;const O=u.value&&et;O&&h(i,!1),(_.value||!O)&&w(A)},C=A=>{!nr(A)||(v.disabled&&A?u.value&&h(i,!1):r.value!==A&&(A?f():w()))},j=()=>{r.value?S():x()};return ge(()=>v[o],C),c&&y.appContext.config.globalProperties.$route!==void 0&&ge(()=>({...y.proxy.$route}),()=>{c.value&&r.value&&S()}),Fe(()=>{C(v[o])}),{hide:S,show:x,toggle:j,hasUpdateHandler:u}},useModelToggleProps:l,useModelToggleEmits:m}};var Ae="top",ze="bottom",Be="right",Te="left",ln="auto",Ct=[Ae,ze,Be,Te],at="start",wt="end",Ao="clippingParents",sr="viewport",mt="popper",To="reference",On=Ct.reduce(function(o,i){return o.concat([i+"-"+at,i+"-"+wt])},[]),un=[].concat(Ct,[ln]).reduce(function(o,i){return o.concat([i,i+"-"+at,i+"-"+wt])},[]),Oo="beforeRead",Ro="read",zo="afterRead",Bo="beforeMain",Po="main",Fo="afterMain",Do="beforeWrite",jo="write",Lo="afterWrite",No=[Oo,Ro,zo,Bo,Po,Fo,Do,jo,Lo];function Me(o){return o?(o.nodeName||"").toLowerCase():null}function je(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var i=o.ownerDocument;return i&&i.defaultView||window}return o}function lt(o){var i=je(o).Element;return o instanceof i||o instanceof Element}function Re(o){var i=je(o).HTMLElement;return o instanceof i||o instanceof HTMLElement}function cn(o){if(typeof ShadowRoot>"u")return!1;var i=je(o).ShadowRoot;return o instanceof i||o instanceof ShadowRoot}function Uo(o){var i=o.state;Object.keys(i.elements).forEach(function(e){var m=i.styles[e]||{},l=i.attributes[e]||{},s=i.elements[e];!Re(s)||!Me(s)||(Object.assign(s.style,m),Object.keys(l).forEach(function(r){var t=l[r];t===!1?s.removeAttribute(r):s.setAttribute(r,t===!0?"":t)}))})}function Mo(o){var i=o.state,e={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,e.popper),i.styles=e,i.elements.arrow&&Object.assign(i.elements.arrow.style,e.arrow),function(){Object.keys(i.elements).forEach(function(m){var l=i.elements[m],s=i.attributes[m]||{},r=Object.keys(i.styles.hasOwnProperty(m)?i.styles[m]:e[m]),t=r.reduce(function(c,p){return c[p]="",c},{});!Re(l)||!Me(l)||(Object.assign(l.style,t),Object.keys(s).forEach(function(c){l.removeAttribute(c)}))})}}var ar={name:"applyStyles",enabled:!0,phase:"write",fn:Uo,effect:Mo,requires:["computeStyles"]};function Ue(o){return o.split("-")[0]}var tt=Math.max,Zt=Math.min,ut=Math.round;function ct(o,i){i===void 0&&(i=!1);var e=o.getBoundingClientRect(),m=1,l=1;if(Re(o)&&i){var s=o.offsetHeight,r=o.offsetWidth;r>0&&(m=ut(e.width)/r||1),s>0&&(l=ut(e.height)/s||1)}return{width:e.width/m,height:e.height/l,top:e.top/l,right:e.right/m,bottom:e.bottom/l,left:e.left/m,x:e.left/m,y:e.top/l}}function dn(o){var i=ct(o),e=o.offsetWidth,m=o.offsetHeight;return Math.abs(i.width-e)<=1&&(e=i.width),Math.abs(i.height-m)<=1&&(m=i.height),{x:o.offsetLeft,y:o.offsetTop,width:e,height:m}}function lr(o,i){var e=i.getRootNode&&i.getRootNode();if(o.contains(i))return!0;if(e&&cn(e)){var m=i;do{if(m&&o.isSameNode(m))return!0;m=m.parentNode||m.host}while(m)}return!1}function Ge(o){return je(o).getComputedStyle(o)}function $o(o){return["table","td","th"].indexOf(Me(o))>=0}function Qe(o){return((lt(o)?o.ownerDocument:o.document)||window.document).documentElement}function Gt(o){return Me(o)==="html"?o:o.assignedSlot||o.parentNode||(cn(o)?o.host:null)||Qe(o)}function Rn(o){return!Re(o)||Ge(o).position==="fixed"?null:o.offsetParent}function Wo(o){var i=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,e=navigator.userAgent.indexOf("Trident")!==-1;if(e&&Re(o)){var m=Ge(o);if(m.position==="fixed")return null}var l=Gt(o);for(cn(l)&&(l=l.host);Re(l)&&["html","body"].indexOf(Me(l))<0;){var s=Ge(l);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||i&&s.willChange==="filter"||i&&s.filter&&s.filter!=="none")return l;l=l.parentNode}return null}function It(o){for(var i=je(o),e=Rn(o);e&&$o(e)&&Ge(e).position==="static";)e=Rn(e);return e&&(Me(e)==="html"||Me(e)==="body"&&Ge(e).position==="static")?i:e||Wo(o)||i}function fn(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function _t(o,i,e){return tt(o,Zt(i,e))}function Zo(o,i,e){var m=_t(o,i,e);return m>e?e:m}function ur(){return{top:0,right:0,bottom:0,left:0}}function cr(o){return Object.assign({},ur(),o)}function dr(o,i){return i.reduce(function(e,m){return e[m]=o,e},{})}var Ho=function(o,i){return o=typeof o=="function"?o(Object.assign({},i.rects,{placement:i.placement})):o,cr(typeof o!="number"?o:dr(o,Ct))};function Go(o){var i,e=o.state,m=o.name,l=o.options,s=e.elements.arrow,r=e.modifiersData.popperOffsets,t=Ue(e.placement),c=fn(t),p=[Te,Be].indexOf(t)>=0,a=p?"height":"width";if(!(!s||!r)){var g=Ho(l.padding,e),y=dn(s),h=c==="y"?Ae:Te,v=c==="y"?ze:Be,u=e.rects.reference[a]+e.rects.reference[c]-r[c]-e.rects.popper[a],_=r[c]-e.rects.reference[c],f=It(s),w=f?c==="y"?f.clientHeight||0:f.clientWidth||0:0,x=u/2-_/2,S=g[h],C=w-y[a]-g[v],j=w/2-y[a]/2+x,A=_t(S,j,C),O=c;e.modifiersData[m]=(i={},i[O]=A,i.centerOffset=A-j,i)}}function Vo(o){var i=o.state,e=o.options,m=e.element,l=m===void 0?"[data-popper-arrow]":m;l!=null&&(typeof l=="string"&&(l=i.elements.popper.querySelector(l),!l)||!lr(i.elements.popper,l)||(i.elements.arrow=l))}var Ko={name:"arrow",enabled:!0,phase:"main",fn:Go,effect:Vo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dt(o){return o.split("-")[1]}var qo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jo(o){var i=o.x,e=o.y,m=window,l=m.devicePixelRatio||1;return{x:ut(i*l)/l||0,y:ut(e*l)/l||0}}function zn(o){var i,e=o.popper,m=o.popperRect,l=o.placement,s=o.variation,r=o.offsets,t=o.position,c=o.gpuAcceleration,p=o.adaptive,a=o.roundOffsets,g=o.isFixed,y=r.x,h=y===void 0?0:y,v=r.y,u=v===void 0?0:v,_=typeof a=="function"?a({x:h,y:u}):{x:h,y:u};h=_.x,u=_.y;var f=r.hasOwnProperty("x"),w=r.hasOwnProperty("y"),x=Te,S=Ae,C=window;if(p){var j=It(e),A="clientHeight",O="clientWidth";if(j===je(e)&&(j=Qe(e),Ge(j).position!=="static"&&t==="absolute"&&(A="scrollHeight",O="scrollWidth")),j=j,l===Ae||(l===Te||l===Be)&&s===wt){S=ze;var I=g&&j===C&&C.visualViewport?C.visualViewport.height:j[A];u-=I-m.height,u*=c?1:-1}if(l===Te||(l===Ae||l===ze)&&s===wt){x=Be;var N=g&&j===C&&C.visualViewport?C.visualViewport.width:j[O];h-=N-m.width,h*=c?1:-1}}var $=Object.assign({position:t},p&&qo),b=a===!0?Jo({x:h,y:u}):{x:h,y:u};if(h=b.x,u=b.y,c){var z;return Object.assign({},$,(z={},z[S]=w?"0":"",z[x]=f?"0":"",z.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+u+"px)":"translate3d("+h+"px, "+u+"px, 0)",z))}return Object.assign({},$,(i={},i[S]=w?u+"px":"",i[x]=f?h+"px":"",i.transform="",i))}function Yo(o){var i=o.state,e=o.options,m=e.gpuAcceleration,l=m===void 0?!0:m,s=e.adaptive,r=s===void 0?!0:s,t=e.roundOffsets,c=t===void 0?!0:t,p={placement:Ue(i.placement),variation:dt(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:l,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,zn(Object.assign({},p,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:r,roundOffsets:c})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,zn(Object.assign({},p,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})}var fr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Yo,data:{}},Pt={passive:!0};function Xo(o){var i=o.state,e=o.instance,m=o.options,l=m.scroll,s=l===void 0?!0:l,r=m.resize,t=r===void 0?!0:r,c=je(i.elements.popper),p=[].concat(i.scrollParents.reference,i.scrollParents.popper);return s&&p.forEach(function(a){a.addEventListener("scroll",e.update,Pt)}),t&&c.addEventListener("resize",e.update,Pt),function(){s&&p.forEach(function(a){a.removeEventListener("scroll",e.update,Pt)}),t&&c.removeEventListener("resize",e.update,Pt)}}var pr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Xo,data:{}},Qo={left:"right",right:"left",bottom:"top",top:"bottom"};function Nt(o){return o.replace(/left|right|bottom|top/g,function(i){return Qo[i]})}var ei={start:"end",end:"start"};function Bn(o){return o.replace(/start|end/g,function(i){return ei[i]})}function pn(o){var i=je(o),e=i.pageXOffset,m=i.pageYOffset;return{scrollLeft:e,scrollTop:m}}function hn(o){return ct(Qe(o)).left+pn(o).scrollLeft}function ti(o){var i=je(o),e=Qe(o),m=i.visualViewport,l=e.clientWidth,s=e.clientHeight,r=0,t=0;return m&&(l=m.width,s=m.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(r=m.offsetLeft,t=m.offsetTop)),{width:l,height:s,x:r+hn(o),y:t}}function ni(o){var i,e=Qe(o),m=pn(o),l=(i=o.ownerDocument)==null?void 0:i.body,s=tt(e.scrollWidth,e.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),r=tt(e.scrollHeight,e.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),t=-m.scrollLeft+hn(o),c=-m.scrollTop;return Ge(l||e).direction==="rtl"&&(t+=tt(e.clientWidth,l?l.clientWidth:0)-s),{width:s,height:r,x:t,y:c}}function mn(o){var i=Ge(o),e=i.overflow,m=i.overflowX,l=i.overflowY;return/auto|scroll|overlay|hidden/.test(e+l+m)}function hr(o){return["html","body","#document"].indexOf(Me(o))>=0?o.ownerDocument.body:Re(o)&&mn(o)?o:hr(Gt(o))}function yt(o,i){var e;i===void 0&&(i=[]);var m=hr(o),l=m===((e=o.ownerDocument)==null?void 0:e.body),s=je(m),r=l?[s].concat(s.visualViewport||[],mn(m)?m:[]):m,t=i.concat(r);return l?t:t.concat(yt(Gt(r)))}function tn(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function ri(o){var i=ct(o);return i.top=i.top+o.clientTop,i.left=i.left+o.clientLeft,i.bottom=i.top+o.clientHeight,i.right=i.left+o.clientWidth,i.width=o.clientWidth,i.height=o.clientHeight,i.x=i.left,i.y=i.top,i}function Pn(o,i){return i===sr?tn(ti(o)):lt(i)?ri(i):tn(ni(Qe(o)))}function oi(o){var i=yt(Gt(o)),e=["absolute","fixed"].indexOf(Ge(o).position)>=0,m=e&&Re(o)?It(o):o;return lt(m)?i.filter(function(l){return lt(l)&&lr(l,m)&&Me(l)!=="body"}):[]}function ii(o,i,e){var m=i==="clippingParents"?oi(o):[].concat(i),l=[].concat(m,[e]),s=l[0],r=l.reduce(function(t,c){var p=Pn(o,c);return t.top=tt(p.top,t.top),t.right=Zt(p.right,t.right),t.bottom=Zt(p.bottom,t.bottom),t.left=tt(p.left,t.left),t},Pn(o,s));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function mr(o){var i=o.reference,e=o.element,m=o.placement,l=m?Ue(m):null,s=m?dt(m):null,r=i.x+i.width/2-e.width/2,t=i.y+i.height/2-e.height/2,c;switch(l){case Ae:c={x:r,y:i.y-e.height};break;case ze:c={x:r,y:i.y+i.height};break;case Be:c={x:i.x+i.width,y:t};break;case Te:c={x:i.x-e.width,y:t};break;default:c={x:i.x,y:i.y}}var p=l?fn(l):null;if(p!=null){var a=p==="y"?"height":"width";switch(s){case at:c[p]=c[p]-(i[a]/2-e[a]/2);break;case wt:c[p]=c[p]+(i[a]/2-e[a]/2);break}}return c}function kt(o,i){i===void 0&&(i={});var e=i,m=e.placement,l=m===void 0?o.placement:m,s=e.boundary,r=s===void 0?Ao:s,t=e.rootBoundary,c=t===void 0?sr:t,p=e.elementContext,a=p===void 0?mt:p,g=e.altBoundary,y=g===void 0?!1:g,h=e.padding,v=h===void 0?0:h,u=cr(typeof v!="number"?v:dr(v,Ct)),_=a===mt?To:mt,f=o.rects.popper,w=o.elements[y?_:a],x=ii(lt(w)?w:w.contextElement||Qe(o.elements.popper),r,c),S=ct(o.elements.reference),C=mr({reference:S,element:f,strategy:"absolute",placement:l}),j=tn(Object.assign({},f,C)),A=a===mt?j:S,O={top:x.top-A.top+u.top,bottom:A.bottom-x.bottom+u.bottom,left:x.left-A.left+u.left,right:A.right-x.right+u.right},I=o.modifiersData.offset;if(a===mt&&I){var N=I[l];Object.keys(O).forEach(function($){var b=[Be,ze].indexOf($)>=0?1:-1,z=[Ae,ze].indexOf($)>=0?"y":"x";O[$]+=N[z]*b})}return O}function si(o,i){i===void 0&&(i={});var e=i,m=e.placement,l=e.boundary,s=e.rootBoundary,r=e.padding,t=e.flipVariations,c=e.allowedAutoPlacements,p=c===void 0?un:c,a=dt(m),g=a?t?On:On.filter(function(v){return dt(v)===a}):Ct,y=g.filter(function(v){return p.indexOf(v)>=0});y.length===0&&(y=g);var h=y.reduce(function(v,u){return v[u]=kt(o,{placement:u,boundary:l,rootBoundary:s,padding:r})[Ue(u)],v},{});return Object.keys(h).sort(function(v,u){return h[v]-h[u]})}function ai(o){if(Ue(o)===ln)return[];var i=Nt(o);return[Bn(o),i,Bn(i)]}function li(o){var i=o.state,e=o.options,m=o.name;if(!i.modifiersData[m]._skip){for(var l=e.mainAxis,s=l===void 0?!0:l,r=e.altAxis,t=r===void 0?!0:r,c=e.fallbackPlacements,p=e.padding,a=e.boundary,g=e.rootBoundary,y=e.altBoundary,h=e.flipVariations,v=h===void 0?!0:h,u=e.allowedAutoPlacements,_=i.options.placement,f=Ue(_),w=f===_,x=c||(w||!v?[Nt(_)]:ai(_)),S=[_].concat(x).reduce(function(D,P){return D.concat(Ue(P)===ln?si(i,{placement:P,boundary:a,rootBoundary:g,padding:p,flipVariations:v,allowedAutoPlacements:u}):P)},[]),C=i.rects.reference,j=i.rects.popper,A=new Map,O=!0,I=S[0],N=0;N<S.length;N++){var $=S[N],b=Ue($),z=dt($)===at,d=[Ae,ze].indexOf(b)>=0,M=d?"width":"height",Y=kt(i,{placement:$,boundary:a,rootBoundary:g,altBoundary:y,padding:p}),R=d?z?Be:Te:z?ze:Ae;C[M]>j[M]&&(R=Nt(R));var te=Nt(R),G=[];if(s&&G.push(Y[b]<=0),t&&G.push(Y[R]<=0,Y[te]<=0),G.every(function(D){return D})){I=$,O=!1;break}A.set($,G)}if(O)for(var ie=v?3:1,L=function(D){var P=S.find(function(Q){var re=A.get(Q);if(re)return re.slice(0,D).every(function(ne){return ne})});if(P)return I=P,"break"},B=ie;B>0;B--){var ee=L(B);if(ee==="break")break}i.placement!==I&&(i.modifiersData[m]._skip=!0,i.placement=I,i.reset=!0)}}var ui={name:"flip",enabled:!0,phase:"main",fn:li,requiresIfExists:["offset"],data:{_skip:!1}};function Fn(o,i,e){return e===void 0&&(e={x:0,y:0}),{top:o.top-i.height-e.y,right:o.right-i.width+e.x,bottom:o.bottom-i.height+e.y,left:o.left-i.width-e.x}}function Dn(o){return[Ae,Be,ze,Te].some(function(i){return o[i]>=0})}function ci(o){var i=o.state,e=o.name,m=i.rects.reference,l=i.rects.popper,s=i.modifiersData.preventOverflow,r=kt(i,{elementContext:"reference"}),t=kt(i,{altBoundary:!0}),c=Fn(r,m),p=Fn(t,l,s),a=Dn(c),g=Dn(p);i.modifiersData[e]={referenceClippingOffsets:c,popperEscapeOffsets:p,isReferenceHidden:a,hasPopperEscaped:g},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":g})}var di={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ci};function fi(o,i,e){var m=Ue(o),l=[Te,Ae].indexOf(m)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},i,{placement:o})):e,r=s[0],t=s[1];return r=r||0,t=(t||0)*l,[Te,Be].indexOf(m)>=0?{x:t,y:r}:{x:r,y:t}}function pi(o){var i=o.state,e=o.options,m=o.name,l=e.offset,s=l===void 0?[0,0]:l,r=un.reduce(function(a,g){return a[g]=fi(g,i.rects,s),a},{}),t=r[i.placement],c=t.x,p=t.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=c,i.modifiersData.popperOffsets.y+=p),i.modifiersData[m]=r}var hi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pi};function mi(o){var i=o.state,e=o.name;i.modifiersData[e]=mr({reference:i.rects.reference,element:i.rects.popper,strategy:"absolute",placement:i.placement})}var vr={name:"popperOffsets",enabled:!0,phase:"read",fn:mi,data:{}};function vi(o){return o==="x"?"y":"x"}function gi(o){var i=o.state,e=o.options,m=o.name,l=e.mainAxis,s=l===void 0?!0:l,r=e.altAxis,t=r===void 0?!1:r,c=e.boundary,p=e.rootBoundary,a=e.altBoundary,g=e.padding,y=e.tether,h=y===void 0?!0:y,v=e.tetherOffset,u=v===void 0?0:v,_=kt(i,{boundary:c,rootBoundary:p,padding:g,altBoundary:a}),f=Ue(i.placement),w=dt(i.placement),x=!w,S=fn(f),C=vi(S),j=i.modifiersData.popperOffsets,A=i.rects.reference,O=i.rects.popper,I=typeof u=="function"?u(Object.assign({},i.rects,{placement:i.placement})):u,N=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),$=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,b={x:0,y:0};if(j){if(s){var z,d=S==="y"?Ae:Te,M=S==="y"?ze:Be,Y=S==="y"?"height":"width",R=j[S],te=R+_[d],G=R-_[M],ie=h?-O[Y]/2:0,L=w===at?A[Y]:O[Y],B=w===at?-O[Y]:-A[Y],ee=i.elements.arrow,D=h&&ee?dn(ee):{width:0,height:0},P=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:ur(),Q=P[d],re=P[M],ne=_t(0,A[Y],D[Y]),ae=x?A[Y]/2-ie-ne-Q-N.mainAxis:L-ne-Q-N.mainAxis,pe=x?-A[Y]/2+ie+ne+re+N.mainAxis:B+ne+re+N.mainAxis,he=i.elements.arrow&&It(i.elements.arrow),_e=he?S==="y"?he.clientTop||0:he.clientLeft||0:0,be=(z=$==null?void 0:$[S])!=null?z:0,n=R+ae-be-_e,Z=R+pe-be,U=_t(h?Zt(te,n):te,R,h?tt(G,Z):G);j[S]=U,b[S]=U-R}if(t){var E,k=S==="x"?Ae:Te,T=S==="x"?ze:Be,H=j[C],V=C==="y"?"height":"width",F=H+_[k],K=H-_[T],X=[Ae,Te].indexOf(f)!==-1,J=(E=$==null?void 0:$[C])!=null?E:0,se=X?F:H-A[V]-O[V]-J+N.altAxis,me=X?H+A[V]+O[V]-J-N.altAxis:K,de=h&&X?Zo(se,H,me):_t(h?se:F,H,h?me:K);j[C]=de,b[C]=de-H}i.modifiersData[m]=b}}var _i={name:"preventOverflow",enabled:!0,phase:"main",fn:gi,requiresIfExists:["offset"]};function yi(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function bi(o){return o===je(o)||!Re(o)?pn(o):yi(o)}function wi(o){var i=o.getBoundingClientRect(),e=ut(i.width)/o.offsetWidth||1,m=ut(i.height)/o.offsetHeight||1;return e!==1||m!==1}function ki(o,i,e){e===void 0&&(e=!1);var m=Re(i),l=Re(i)&&wi(i),s=Qe(i),r=ct(o,l),t={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(m||!m&&!e)&&((Me(i)!=="body"||mn(s))&&(t=bi(i)),Re(i)?(c=ct(i,!0),c.x+=i.clientLeft,c.y+=i.clientTop):s&&(c.x=hn(s))),{x:r.left+t.scrollLeft-c.x,y:r.top+t.scrollTop-c.y,width:r.width,height:r.height}}function Ei(o){var i=new Map,e=new Set,m=[];o.forEach(function(s){i.set(s.name,s)});function l(s){e.add(s.name);var r=[].concat(s.requires||[],s.requiresIfExists||[]);r.forEach(function(t){if(!e.has(t)){var c=i.get(t);c&&l(c)}}),m.push(s)}return o.forEach(function(s){e.has(s.name)||l(s)}),m}function xi(o){var i=Ei(o);return No.reduce(function(e,m){return e.concat(i.filter(function(l){return l.phase===m}))},[])}function Si(o){var i;return function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(o())})})),i}}function Ci(o){var i=o.reduce(function(e,m){var l=e[m.name];return e[m.name]=l?Object.assign({},l,m,{options:Object.assign({},l.options,m.options),data:Object.assign({},l.data,m.data)}):m,e},{});return Object.keys(i).map(function(e){return i[e]})}var jn={placement:"bottom",modifiers:[],strategy:"absolute"};function Ln(){for(var o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return!i.some(function(m){return!(m&&typeof m.getBoundingClientRect=="function")})}function vn(o){o===void 0&&(o={});var i=o,e=i.defaultModifiers,m=e===void 0?[]:e,l=i.defaultOptions,s=l===void 0?jn:l;return function(r,t,c){c===void 0&&(c=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},jn,s),modifiersData:{},elements:{reference:r,popper:t},attributes:{},styles:{}},a=[],g=!1,y={state:p,setOptions:function(u){var _=typeof u=="function"?u(p.options):u;v(),p.options=Object.assign({},s,p.options,_),p.scrollParents={reference:lt(r)?yt(r):r.contextElement?yt(r.contextElement):[],popper:yt(t)};var f=xi(Ci([].concat(m,p.options.modifiers)));return p.orderedModifiers=f.filter(function(w){return w.enabled}),h(),y.update()},forceUpdate:function(){if(!g){var u=p.elements,_=u.reference,f=u.popper;if(Ln(_,f)){p.rects={reference:ki(_,It(f),p.options.strategy==="fixed"),popper:dn(f)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(O){return p.modifiersData[O.name]=Object.assign({},O.data)});for(var w=0;w<p.orderedModifiers.length;w++){if(p.reset===!0){p.reset=!1,w=-1;continue}var x=p.orderedModifiers[w],S=x.fn,C=x.options,j=C===void 0?{}:C,A=x.name;typeof S=="function"&&(p=S({state:p,options:j,name:A,instance:y})||p)}}}},update:Si(function(){return new Promise(function(u){y.forceUpdate(),u(p)})}),destroy:function(){v(),g=!0}};if(!Ln(r,t))return y;y.setOptions(c).then(function(u){!g&&c.onFirstUpdate&&c.onFirstUpdate(u)});function h(){p.orderedModifiers.forEach(function(u){var _=u.name,f=u.options,w=f===void 0?{}:f,x=u.effect;if(typeof x=="function"){var S=x({state:p,name:_,instance:y,options:w}),C=function(){};a.push(S||C)}})}function v(){a.forEach(function(u){return u()}),a=[]}return y}}vn();var Ii=[pr,vr,fr,ar];vn({defaultModifiers:Ii});var Ai=[pr,vr,fr,ar,hi,ui,_i,Ko,di],Ti=vn({defaultModifiers:Ai});const Oi=(o,i,e={})=>{const m={name:"updateState",enabled:!0,phase:"write",fn:({state:c})=>{const p=Ri(c);Object.assign(r.value,p)},requires:["computeStyles"]},l=ue(()=>{const{onFirstUpdate:c,placement:p,strategy:a,modifiers:g}=W(e);return{onFirstUpdate:c,placement:p||"bottom",strategy:a||"absolute",modifiers:[...g||[],m,{name:"applyStyles",enabled:!1}]}}),s=Pr(),r=le({styles:{popper:{position:W(l).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),t=()=>{!s.value||(s.value.destroy(),s.value=void 0)};return ge(l,c=>{const p=W(s);p&&p.setOptions(c)},{deep:!0}),ge([o,i],([c,p])=>{t(),!(!c||!p)&&(s.value=Ti(c,p,W(l)))}),De(()=>{t()}),{state:ue(()=>{var c;return{...((c=W(s))==null?void 0:c.state)||{}}}),styles:ue(()=>W(r).styles),attributes:ue(()=>W(r).attributes),update:()=>{var c;return(c=W(s))==null?void 0:c.update()},forceUpdate:()=>{var c;return(c=W(s))==null?void 0:c.forceUpdate()},instanceRef:ue(()=>W(s))}};function Ri(o){const i=Object.keys(o.elements),e=An(i.map(l=>[l,o.styles[l]||{}])),m=An(i.map(l=>[l,o.attributes[l]]));return{styles:e,attributes:m}}function Nn(){let o;const i=(m,l)=>{e(),o=window.setTimeout(m,l)},e=()=>window.clearTimeout(o);return co(()=>e()),{registerTimeout:i,cancelTimeout:e}}let rt=[];const Un=o=>{const i=o;i.key===Wt.esc&&rt.forEach(e=>e(i))},zi=o=>{Fe(()=>{rt.length===0&&document.addEventListener("keydown",Un),et&&rt.push(o)}),De(()=>{rt=rt.filter(i=>i!==o),rt.length===0&&et&&document.removeEventListener("keydown",Un)})};let Mn;const gr=()=>{const o=fo(),i=ko(),e=ue(()=>`${o.value}-popper-container-${i.prefix}`),m=ue(()=>`#${e.value}`);return{id:e,selector:m}},Bi=o=>{const i=document.createElement("div");return i.id=o,document.body.appendChild(i),i},Pi=()=>{const{id:o,selector:i}=gr();return Fr(()=>{!et||!Mn&&!document.body.querySelector(i.value)&&(Mn=Bi(o.value))}),{id:o,selector:i}},Fi=Ve({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Di=({showAfter:o,hideAfter:i,autoClose:e,open:m,close:l})=>{const{registerTimeout:s}=Nn(),{registerTimeout:r,cancelTimeout:t}=Nn();return{onOpen:a=>{s(()=>{m(a);const g=W(e);rr(g)&&g>0&&r(()=>{l(a)},g)},W(o))},onClose:a=>{t(),s(()=>{l(a)},W(i))}}},_r=Symbol("elForwardRef"),ji=o=>{st(_r,{setForwardRef:e=>{o.value=e}})},Li=o=>({mounted(i){o(i)},updated(i){o(i)},unmounted(){o(null)}}),$n=le(0),Ni=2e3,Ui=Symbol("zIndexContextKey"),Mi=o=>{const i=o||Ye(Ui,void 0),e=ue(()=>{const s=W(i);return rr(s)?s:Ni}),m=ue(()=>e.value+$n.value);return{initialZIndex:e,currentZIndex:m,nextZIndex:()=>($n.value++,m.value)}},gn=Symbol("popper"),yr=Symbol("popperContent"),$i=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],br=Ve({role:{type:String,values:$i,default:"tooltip"}}),Wi=ke({name:"ElPopper",inheritAttrs:!1}),Zi=ke({...Wi,props:br,setup(o,{expose:i}){const e=o,m=le(),l=le(),s=le(),r=le(),t=ue(()=>e.role),c={triggerRef:m,popperInstanceRef:l,contentRef:s,referenceRef:r,role:t};return i(c),st(gn,c),(p,a)=>Je(p.$slots,"default")}});var Hi=Xe(Zi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const wr=Ve({arrowOffset:{type:Number,default:5}}),Gi=ke({name:"ElPopperArrow",inheritAttrs:!1}),Vi=ke({...Gi,props:wr,setup(o,{expose:i}){const e=o,m=St("popper"),{arrowOffset:l,arrowRef:s,arrowStyle:r}=Ye(yr,void 0);return ge(()=>e.arrowOffset,t=>{l.value=t}),De(()=>{s.value=void 0}),i({arrowRef:s}),(t,c)=>(oe(),ce("span",{ref_key:"arrowRef",ref:s,class:Ne(W(m).e("arrow")),style:Dr(W(r)),"data-popper-arrow":""},null,6))}});var Ki=Xe(Vi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const qi="ElOnlyChild",Ji=ke({name:qi,setup(o,{slots:i,attrs:e}){var m;const l=Ye(_r),s=Li((m=l==null?void 0:l.setForwardRef)!=null?m:Yt);return()=>{var r;const t=(r=i.default)==null?void 0:r.call(i,e);if(!t||t.length>1)return null;const c=kr(t);return c?it(jr(c,e),[[s]]):null}}});function kr(o){if(!o)return null;const i=o;for(const e of i){if(Lr(e))switch(e.type){case Ur:continue;case Nr:case"svg":return Wn(e);case Ie:return kr(e.children);default:return e}return Wn(e)}return null}function Wn(o){const i=St("only-child");return Ee("span",{class:i.e("content")},[o])}const Er=Ve({virtualRef:{type:ye(Object)},virtualTriggering:Boolean,onMouseenter:{type:ye(Function)},onMouseleave:{type:ye(Function)},onClick:{type:ye(Function)},onKeydown:{type:ye(Function)},onFocus:{type:ye(Function)},onBlur:{type:ye(Function)},onContextmenu:{type:ye(Function)},id:String,open:Boolean}),Yi=ke({name:"ElPopperTrigger",inheritAttrs:!1}),Xi=ke({...Yi,props:Er,setup(o,{expose:i}){const e=o,{role:m,triggerRef:l}=Ye(gn,void 0);ji(l);const s=ue(()=>t.value?e.id:void 0),r=ue(()=>{if(m&&m.value==="tooltip")return e.open&&e.id?e.id:void 0}),t=ue(()=>{if(m&&m.value!=="tooltip")return m.value}),c=ue(()=>t.value?`${e.open}`:void 0);let p;return Fe(()=>{ge(()=>e.virtualRef,a=>{a&&(l.value=ir(a))},{immediate:!0}),ge(l,(a,g)=>{p==null||p(),p=void 0,$t(a)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(y=>{var h;const v=e[y];v&&(a.addEventListener(y.slice(2).toLowerCase(),v),(h=g==null?void 0:g.removeEventListener)==null||h.call(g,y.slice(2).toLowerCase(),v))}),p=ge([s,r,t,c],y=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,v)=>{sn(y[v])?a.removeAttribute(h):a.setAttribute(h,y[v])})},{immediate:!0})),$t(g)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(y=>g.removeAttribute(y))},{immediate:!0})}),De(()=>{p==null||p(),p=void 0}),i({triggerRef:l}),(a,g)=>a.virtualTriggering?ve("v-if",!0):(oe(),xe(W(Ji),rn({key:0},a.$attrs,{"aria-controls":W(s),"aria-describedby":W(r),"aria-expanded":W(c),"aria-haspopup":W(t)}),{default:Ce(()=>[Je(a.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Qi=Xe(Xi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const qt="focus-trap.focus-after-trapped",Jt="focus-trap.focus-after-released",es="focus-trap.focusout-prevented",Zn={cancelable:!0,bubbles:!1},ts={cancelable:!0,bubbles:!1},Hn="focusAfterTrapped",Gn="focusAfterReleased",ns=Symbol("elFocusTrap"),_n=le(),Vt=le(0),yn=le(0);let Ft=0;const xr=o=>{const i=[],e=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:m=>{const l=m.tagName==="INPUT"&&m.type==="hidden";return m.disabled||m.hidden||l?NodeFilter.FILTER_SKIP:m.tabIndex>=0||m===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)i.push(e.currentNode);return i},Vn=(o,i)=>{for(const e of o)if(!rs(e,i))return e},rs=(o,i)=>{if(getComputedStyle(o).visibility==="hidden")return!0;for(;o;){if(i&&o===i)return!1;if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1},os=o=>{const i=xr(o),e=Vn(i,o),m=Vn(i.reverse(),o);return[e,m]},is=o=>o instanceof HTMLInputElement&&"select"in o,Ke=(o,i)=>{if(o&&o.focus){const e=document.activeElement;o.focus({preventScroll:!0}),yn.value=window.performance.now(),o!==e&&is(o)&&i&&o.select()}};function Kn(o,i){const e=[...o],m=o.indexOf(i);return m!==-1&&e.splice(m,1),e}const ss=()=>{let o=[];return{push:m=>{const l=o[0];l&&m!==l&&l.pause(),o=Kn(o,m),o.unshift(m)},remove:m=>{var l,s;o=Kn(o,m),(s=(l=o[0])==null?void 0:l.resume)==null||s.call(l)}}},as=(o,i=!1)=>{const e=document.activeElement;for(const m of o)if(Ke(m,i),document.activeElement!==e)return},qn=ss(),ls=()=>Vt.value>yn.value,Dt=()=>{_n.value="pointer",Vt.value=window.performance.now()},Jn=()=>{_n.value="keyboard",Vt.value=window.performance.now()},us=()=>(Fe(()=>{Ft===0&&(document.addEventListener("mousedown",Dt),document.addEventListener("touchstart",Dt),document.addEventListener("keydown",Jn)),Ft++}),De(()=>{Ft--,Ft<=0&&(document.removeEventListener("mousedown",Dt),document.removeEventListener("touchstart",Dt),document.removeEventListener("keydown",Jn))}),{focusReason:_n,lastUserFocusTimestamp:Vt,lastAutomatedFocusTimestamp:yn}),jt=o=>new CustomEvent(es,{...ts,detail:o}),cs=ke({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Hn,Gn,"focusin","focusout","focusout-prevented","release-requested"],setup(o,{emit:i}){const e=le();let m,l;const{focusReason:s}=us();zi(v=>{o.trapped&&!r.paused&&i("release-requested",v)});const r={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},t=v=>{if(!o.loop&&!o.trapped||r.paused)return;const{key:u,altKey:_,ctrlKey:f,metaKey:w,currentTarget:x,shiftKey:S}=v,{loop:C}=o,j=u===Wt.tab&&!_&&!f&&!w,A=document.activeElement;if(j&&A){const O=x,[I,N]=os(O);if(I&&N){if(!S&&A===N){const b=jt({focusReason:s.value});i("focusout-prevented",b),b.defaultPrevented||(v.preventDefault(),C&&Ke(I,!0))}else if(S&&[I,O].includes(A)){const b=jt({focusReason:s.value});i("focusout-prevented",b),b.defaultPrevented||(v.preventDefault(),C&&Ke(N,!0))}}else if(A===O){const b=jt({focusReason:s.value});i("focusout-prevented",b),b.defaultPrevented||v.preventDefault()}}};st(ns,{focusTrapRef:e,onKeydown:t}),ge(()=>o.focusTrapEl,v=>{v&&(e.value=v)},{immediate:!0}),ge([e],([v],[u])=>{v&&(v.addEventListener("keydown",t),v.addEventListener("focusin",a),v.addEventListener("focusout",g)),u&&(u.removeEventListener("keydown",t),u.removeEventListener("focusin",a),u.removeEventListener("focusout",g))});const c=v=>{i(Hn,v)},p=v=>i(Gn,v),a=v=>{const u=W(e);if(!u)return;const _=v.target,f=v.relatedTarget,w=_&&u.contains(_);o.trapped||f&&u.contains(f)||(m=f),w&&i("focusin",v),!r.paused&&o.trapped&&(w?l=_:Ke(l,!0))},g=v=>{const u=W(e);if(!(r.paused||!u))if(o.trapped){const _=v.relatedTarget;!sn(_)&&!u.contains(_)&&setTimeout(()=>{if(!r.paused&&o.trapped){const f=jt({focusReason:s.value});i("focusout-prevented",f),f.defaultPrevented||Ke(l,!0)}},0)}else{const _=v.target;_&&u.contains(_)||i("focusout",v)}};async function y(){await Ut();const v=W(e);if(v){qn.push(r);const u=v.contains(document.activeElement)?m:document.activeElement;if(m=u,!v.contains(u)){const f=new Event(qt,Zn);v.addEventListener(qt,c),v.dispatchEvent(f),f.defaultPrevented||Ut(()=>{let w=o.focusStartEl;Mr(w)||(Ke(w),document.activeElement!==w&&(w="first")),w==="first"&&as(xr(v),!0),(document.activeElement===u||w==="container")&&Ke(v)})}}}function h(){const v=W(e);if(v){v.removeEventListener(qt,c);const u=new CustomEvent(Jt,{...Zn,detail:{focusReason:s.value}});v.addEventListener(Jt,p),v.dispatchEvent(u),!u.defaultPrevented&&(s.value=="keyboard"||!ls()||v.contains(document.activeElement))&&Ke(m!=null?m:document.body),v.removeEventListener(Jt,c),qn.remove(r)}}return Fe(()=>{o.trapped&&y(),ge(()=>o.trapped,v=>{v?y():h()})}),De(()=>{o.trapped&&h()}),{onKeydown:t}}});function ds(o,i,e,m,l,s){return Je(o.$slots,"default",{handleKeydown:o.onKeydown})}var fs=Xe(cs,[["render",ds],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const ps=["fixed","absolute"],hs=Ve({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ye(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:un,default:"bottom"},popperOptions:{type:ye(Object),default:()=>({})},strategy:{type:String,values:ps,default:"absolute"}}),Sr=Ve({...hs,id:String,style:{type:ye([String,Array,Object])},className:{type:ye([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ye([String,Array,Object])},popperStyle:{type:ye([String,Array,Object])},referenceEl:{type:ye(Object)},triggerTargetEl:{type:ye(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),ms={mouseenter:o=>o instanceof MouseEvent,mouseleave:o=>o instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},vs=(o,i=[])=>{const{placement:e,strategy:m,popperOptions:l}=o,s={placement:e,strategy:m,...l,modifiers:[..._s(o),...i]};return ys(s,l==null?void 0:l.modifiers),s},gs=o=>{if(!!et)return ir(o)};function _s(o){const{offset:i,gpuAcceleration:e,fallbackPlacements:m}=o;return[{name:"offset",options:{offset:[0,i!=null?i:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:m}},{name:"computeStyles",options:{gpuAcceleration:e}}]}function ys(o,i){i&&(o.modifiers=[...o.modifiers,...i!=null?i:[]])}const bs=0,ws=o=>{const{popperInstanceRef:i,contentRef:e,triggerRef:m,role:l}=Ye(gn,void 0),s=le(),r=le(),t=ue(()=>({name:"eventListeners",enabled:!!o.visible})),c=ue(()=>{var f;const w=W(s),x=(f=W(r))!=null?f:bs;return{name:"arrow",enabled:!xo(w),options:{element:w,padding:x}}}),p=ue(()=>({onFirstUpdate:()=>{v()},...vs(o,[W(c),W(t)])})),a=ue(()=>gs(o.referenceEl)||W(m)),{attributes:g,state:y,styles:h,update:v,forceUpdate:u,instanceRef:_}=Oi(a,e,p);return ge(_,f=>i.value=f),Fe(()=>{ge(()=>{var f;return(f=W(a))==null?void 0:f.getBoundingClientRect()},()=>{v()})}),{attributes:g,arrowRef:s,contentRef:e,instanceRef:_,state:y,styles:h,role:l,forceUpdate:u,update:v}},ks=(o,{attributes:i,styles:e,role:m})=>{const{nextZIndex:l}=Mi(),s=St("popper"),r=ue(()=>W(i).popper),t=le(o.zIndex||l()),c=ue(()=>[s.b(),s.is("pure",o.pure),s.is(o.effect),o.popperClass]),p=ue(()=>[{zIndex:W(t)},W(e).popper,o.popperStyle||{}]),a=ue(()=>m.value==="dialog"?"false":void 0),g=ue(()=>W(e).arrow||{});return{ariaModal:a,arrowStyle:g,contentAttrs:r,contentClass:c,contentStyle:p,contentZIndex:t,updateZIndex:()=>{t.value=o.zIndex||l()}}},Es=(o,i)=>{const e=le(!1),m=le();return{focusStartRef:m,trapped:e,onFocusAfterReleased:p=>{var a;((a=p.detail)==null?void 0:a.focusReason)!=="pointer"&&(m.value="first",i("blur"))},onFocusAfterTrapped:()=>{i("focus")},onFocusInTrap:p=>{o.visible&&!e.value&&(p.target&&(m.value=p.target),e.value=!0)},onFocusoutPrevented:p=>{o.trapping||(p.detail.focusReason==="pointer"&&p.preventDefault(),e.value=!1)},onReleaseRequested:()=>{e.value=!1,i("close")}}},xs=ke({name:"ElPopperContent"}),Ss=ke({...xs,props:Sr,emits:ms,setup(o,{expose:i,emit:e}){const m=o,{focusStartRef:l,trapped:s,onFocusAfterReleased:r,onFocusAfterTrapped:t,onFocusInTrap:c,onFocusoutPrevented:p,onReleaseRequested:a}=Es(m,e),{attributes:g,arrowRef:y,contentRef:h,styles:v,instanceRef:u,role:_,update:f}=ws(m),{ariaModal:w,arrowStyle:x,contentAttrs:S,contentClass:C,contentStyle:j,updateZIndex:A}=ks(m,{styles:v,attributes:g,role:_}),O=Ye(Tn,void 0),I=le();st(yr,{arrowStyle:x,arrowRef:y,arrowOffset:I}),O&&(O.addInputId||O.removeInputId)&&st(Tn,{...O,addInputId:Yt,removeInputId:Yt});let N;const $=(z=!0)=>{f(),z&&A()},b=()=>{$(!1),m.visible&&m.focusOnShow?s.value=!0:m.visible===!1&&(s.value=!1)};return Fe(()=>{ge(()=>m.triggerTargetEl,(z,d)=>{N==null||N(),N=void 0;const M=W(z||h.value),Y=W(d||h.value);$t(M)&&(N=ge([_,()=>m.ariaLabel,w,()=>m.id],R=>{["role","aria-label","aria-modal","id"].forEach((te,G)=>{sn(R[G])?M.removeAttribute(te):M.setAttribute(te,R[G])})},{immediate:!0})),Y!==M&&$t(Y)&&["role","aria-label","aria-modal","id"].forEach(R=>{Y.removeAttribute(R)})},{immediate:!0}),ge(()=>m.visible,b,{immediate:!0})}),De(()=>{N==null||N(),N=void 0}),i({popperContentRef:h,popperInstanceRef:u,updatePopper:$,contentStyle:j}),(z,d)=>(oe(),ce("div",rn({ref_key:"contentRef",ref:h},W(S),{style:W(j),class:W(C),tabindex:"-1",onMouseenter:d[0]||(d[0]=M=>z.$emit("mouseenter",M)),onMouseleave:d[1]||(d[1]=M=>z.$emit("mouseleave",M))}),[Ee(W(fs),{trapped:W(s),"trap-on-focus-in":!0,"focus-trap-el":W(h),"focus-start-el":W(l),onFocusAfterTrapped:W(t),onFocusAfterReleased:W(r),onFocusin:W(c),onFocusoutPrevented:W(p),onReleaseRequested:W(a)},{default:Ce(()=>[Je(z.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Cs=Xe(Ss,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const Is=or(Hi),bn=Symbol("elTooltip"),Cr=Ve({...Fi,...Sr,appendTo:{type:ye([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:ye(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),Ir=Ve({...Er,disabled:Boolean,trigger:{type:ye([String,Array]),default:"hover"},triggerKeys:{type:ye(Array),default:()=>[Wt.enter,Wt.space]}}),{useModelToggleProps:As,useModelToggleEmits:Ts,useModelToggle:Os}=Io("visible"),Rs=Ve({...br,...As,...Cr,...Ir,...wr,showArrow:{type:Boolean,default:!0}}),zs=[...Ts,"before-show","before-hide","show","hide","open","close"],Bs=(o,i)=>$r(o)?o.includes(i):o===i,nt=(o,i,e)=>m=>{Bs(W(o),i)&&e(m)},Ps=ke({name:"ElTooltipTrigger"}),Fs=ke({...Ps,props:Ir,setup(o,{expose:i}){const e=o,m=St("tooltip"),{controlled:l,id:s,open:r,onOpen:t,onClose:c,onToggle:p}=Ye(bn,void 0),a=le(null),g=()=>{if(W(l)||e.disabled)return!0},y=vt(e,"trigger"),h=Ze(g,nt(y,"hover",t)),v=Ze(g,nt(y,"hover",c)),u=Ze(g,nt(y,"click",S=>{S.button===0&&p(S)})),_=Ze(g,nt(y,"focus",t)),f=Ze(g,nt(y,"focus",c)),w=Ze(g,nt(y,"contextmenu",S=>{S.preventDefault(),p(S)})),x=Ze(g,S=>{const{code:C}=S;e.triggerKeys.includes(C)&&(S.preventDefault(),p(S))});return i({triggerRef:a}),(S,C)=>(oe(),xe(W(Qi),{id:W(s),"virtual-ref":S.virtualRef,open:W(r),"virtual-triggering":S.virtualTriggering,class:Ne(W(m).e("trigger")),onBlur:W(f),onClick:W(u),onContextmenu:W(w),onFocus:W(_),onMouseenter:W(h),onMouseleave:W(v),onKeydown:W(x)},{default:Ce(()=>[Je(S.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Ds=Xe(Fs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const js=ke({name:"ElTooltipContent",inheritAttrs:!1}),Ls=ke({...js,props:Cr,setup(o,{expose:i}){const e=o,{selector:m}=gr(),l=St("tooltip"),s=le(null),r=le(!1),{controlled:t,id:c,open:p,trigger:a,onClose:g,onOpen:y,onShow:h,onHide:v,onBeforeShow:u,onBeforeHide:_}=Ye(bn,void 0),f=ue(()=>e.transition||`${l.namespace.value}-fade-in-linear`),w=ue(()=>e.persistent);De(()=>{r.value=!0});const x=ue(()=>W(w)?!0:W(p)),S=ue(()=>e.disabled?!1:W(p)),C=ue(()=>e.appendTo||m.value),j=ue(()=>{var R;return(R=e.style)!=null?R:{}}),A=ue(()=>!W(p)),O=()=>{v()},I=()=>{if(W(t))return!0},N=Ze(I,()=>{e.enterable&&W(a)==="hover"&&y()}),$=Ze(I,()=>{W(a)==="hover"&&g()}),b=()=>{var R,te;(te=(R=s.value)==null?void 0:R.updatePopper)==null||te.call(R),u==null||u()},z=()=>{_==null||_()},d=()=>{h(),Y=po(ue(()=>{var R;return(R=s.value)==null?void 0:R.popperContentRef}),()=>{if(W(t))return;W(a)!=="hover"&&g()})},M=()=>{e.virtualTriggering||g()};let Y;return ge(()=>W(p),R=>{R||Y==null||Y()},{flush:"post"}),ge(()=>e.content,()=>{var R,te;(te=(R=s.value)==null?void 0:R.updatePopper)==null||te.call(R)}),i({contentRef:s}),(R,te)=>(oe(),xe(Hr,{disabled:!R.teleported,to:W(C)},[Ee(Zr,{name:W(f),onAfterLeave:O,onBeforeEnter:b,onAfterEnter:d,onBeforeLeave:z},{default:Ce(()=>[W(x)?it((oe(),xe(W(Cs),rn({key:0,id:W(c),ref_key:"contentRef",ref:s},R.$attrs,{"aria-label":R.ariaLabel,"aria-hidden":W(A),"boundaries-padding":R.boundariesPadding,"fallback-placements":R.fallbackPlacements,"gpu-acceleration":R.gpuAcceleration,offset:R.offset,placement:R.placement,"popper-options":R.popperOptions,strategy:R.strategy,effect:R.effect,enterable:R.enterable,pure:R.pure,"popper-class":R.popperClass,"popper-style":[R.popperStyle,W(j)],"reference-el":R.referenceEl,"trigger-target-el":R.triggerTargetEl,visible:W(S),"z-index":R.zIndex,onMouseenter:W(N),onMouseleave:W($),onBlur:M,onClose:W(g)}),{default:Ce(()=>[r.value?ve("v-if",!0):Je(R.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Wr,W(S)]]):ve("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var Ns=Xe(Ls,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Us=["innerHTML"],Ms={key:1},$s=ke({name:"ElTooltip"}),Ws=ke({...$s,props:Rs,emits:zs,setup(o,{expose:i,emit:e}){const m=o;Pi();const l=Eo(),s=le(),r=le(),t=()=>{var f;const w=W(s);w&&((f=w.popperInstanceRef)==null||f.update())},c=le(!1),p=le(),{show:a,hide:g,hasUpdateHandler:y}=Os({indicator:c,toggleReason:p}),{onOpen:h,onClose:v}=Di({showAfter:vt(m,"showAfter"),hideAfter:vt(m,"hideAfter"),autoClose:vt(m,"autoClose"),open:a,close:g}),u=ue(()=>nr(m.visible)&&!y.value);st(bn,{controlled:u,id:l,open:Gr(c),trigger:vt(m,"trigger"),onOpen:f=>{h(f)},onClose:f=>{v(f)},onToggle:f=>{W(c)?v(f):h(f)},onShow:()=>{e("show",p.value)},onHide:()=>{e("hide",p.value)},onBeforeShow:()=>{e("before-show",p.value)},onBeforeHide:()=>{e("before-hide",p.value)},updatePopper:t}),ge(()=>m.disabled,f=>{f&&c.value&&(c.value=!1)});const _=()=>{var f,w;const x=(w=(f=r.value)==null?void 0:f.contentRef)==null?void 0:w.popperContentRef;return x&&x.contains(document.activeElement)};return Vr(()=>c.value&&g()),i({popperRef:s,contentRef:r,isFocusInsideContent:_,updatePopper:t,onOpen:h,onClose:v,hide:g}),(f,w)=>(oe(),xe(W(Is),{ref_key:"popperRef",ref:s,role:f.role},{default:Ce(()=>[Ee(Ds,{disabled:f.disabled,trigger:f.trigger,"trigger-keys":f.triggerKeys,"virtual-ref":f.virtualRef,"virtual-triggering":f.virtualTriggering},{default:Ce(()=>[f.$slots.default?Je(f.$slots,"default",{key:0}):ve("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Ee(Ns,{ref_key:"contentRef",ref:r,"aria-label":f.ariaLabel,"boundaries-padding":f.boundariesPadding,content:f.content,disabled:f.disabled,effect:f.effect,enterable:f.enterable,"fallback-placements":f.fallbackPlacements,"hide-after":f.hideAfter,"gpu-acceleration":f.gpuAcceleration,offset:f.offset,persistent:f.persistent,"popper-class":f.popperClass,"popper-style":f.popperStyle,placement:f.placement,"popper-options":f.popperOptions,pure:f.pure,"raw-content":f.rawContent,"reference-el":f.referenceEl,"trigger-target-el":f.triggerTargetEl,"show-after":f.showAfter,strategy:f.strategy,teleported:f.teleported,transition:f.transition,"virtual-triggering":f.virtualTriggering,"z-index":f.zIndex,"append-to":f.appendTo},{default:Ce(()=>[Je(f.$slots,"content",{},()=>[f.rawContent?(oe(),ce("span",{key:0,innerHTML:f.content},null,8,Us)):(oe(),ce("span",Ms,fe(f.content),1))]),f.showArrow?(oe(),xe(W(Ki),{key:0,"arrow-offset":f.arrowOffset},null,8,["arrow-offset"])):ve("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Zs=Xe(Ws,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Hs=or(Zs);var Ar={exports:{}};(function(o,i){(function(e){o.exports=e()})(function(){return function e(m,l,s){function r(p,a){if(!l[p]){if(!m[p]){var g=typeof zt=="function"&&zt;if(!a&&g)return g(p,!0);if(t)return t(p,!0);var y=new Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}var h=l[p]={exports:{}};m[p][0].call(h.exports,function(v){var u=m[p][1][v];return r(u||v)},h,h.exports,e,m,l,s)}return l[p].exports}for(var t=typeof zt=="function"&&zt,c=0;c<s.length;c++)r(s[c]);return r}({1:[function(e,m,l){var s=e("./utils"),r=e("./support"),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(c){for(var p,a,g,y,h,v,u,_=[],f=0,w=c.length,x=w,S=s.getTypeOf(c)!=="string";f<c.length;)x=w-f,g=S?(p=c[f++],a=f<w?c[f++]:0,f<w?c[f++]:0):(p=c.charCodeAt(f++),a=f<w?c.charCodeAt(f++):0,f<w?c.charCodeAt(f++):0),y=p>>2,h=(3&p)<<4|a>>4,v=1<x?(15&a)<<2|g>>6:64,u=2<x?63&g:64,_.push(t.charAt(y)+t.charAt(h)+t.charAt(v)+t.charAt(u));return _.join("")},l.decode=function(c){var p,a,g,y,h,v,u=0,_=0,f="data:";if(c.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var w,x=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===t.charAt(64)&&x--,c.charAt(c.length-2)===t.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=r.uint8array?new Uint8Array(0|x):new Array(0|x);u<c.length;)p=t.indexOf(c.charAt(u++))<<2|(y=t.indexOf(c.charAt(u++)))>>4,a=(15&y)<<4|(h=t.indexOf(c.charAt(u++)))>>2,g=(3&h)<<6|(v=t.indexOf(c.charAt(u++))),w[_++]=p,h!==64&&(w[_++]=a),v!==64&&(w[_++]=g);return w}},{"./support":30,"./utils":32}],2:[function(e,m,l){var s=e("./external"),r=e("./stream/DataWorker"),t=e("./stream/Crc32Probe"),c=e("./stream/DataLengthProbe");function p(a,g,y,h,v){this.compressedSize=a,this.uncompressedSize=g,this.crc32=y,this.compression=h,this.compressedContent=v}p.prototype={getContentWorker:function(){var a=new r(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return a.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),a},getCompressedWorker:function(){return new r(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(a,g,y){return a.pipe(new t).pipe(new c("uncompressedSize")).pipe(g.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},m.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,m,l){var s=e("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},l.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,m,l){var s=e("./utils"),r=function(){for(var t,c=[],p=0;p<256;p++){t=p;for(var a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;c[p]=t}return c}();m.exports=function(t,c){return t!==void 0&&t.length?s.getTypeOf(t)!=="string"?function(p,a,g,y){var h=r,v=y+g;p^=-1;for(var u=y;u<v;u++)p=p>>>8^h[255&(p^a[u])];return-1^p}(0|c,t,t.length,0):function(p,a,g,y){var h=r,v=y+g;p^=-1;for(var u=y;u<v;u++)p=p>>>8^h[255&(p^a.charCodeAt(u))];return-1^p}(0|c,t,t.length,0):0}},{"./utils":32}],5:[function(e,m,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(e,m,l){var s=null;s=typeof Promise<"u"?Promise:e("lie"),m.exports={Promise:s}},{lie:37}],7:[function(e,m,l){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=e("pako"),t=e("./utils"),c=e("./stream/GenericWorker"),p=s?"uint8array":"array";function a(g,y){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=y,this.meta={}}l.magic="\b\0",t.inherits(a,c),a.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(t.transformTo(p,g.data),!1)},a.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},a.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},a.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(y){g.push({data:y,meta:g.meta})}},l.compressWorker=function(g){return new a("Deflate",g)},l.uncompressWorker=function(){return new a("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,m,l){function s(h,v){var u,_="";for(u=0;u<v;u++)_+=String.fromCharCode(255&h),h>>>=8;return _}function r(h,v,u,_,f,w){var x,S,C=h.file,j=h.compression,A=w!==p.utf8encode,O=t.transformTo("string",w(C.name)),I=t.transformTo("string",p.utf8encode(C.name)),N=C.comment,$=t.transformTo("string",w(N)),b=t.transformTo("string",p.utf8encode(N)),z=I.length!==C.name.length,d=b.length!==N.length,M="",Y="",R="",te=C.dir,G=C.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};v&&!u||(ie.crc32=h.crc32,ie.compressedSize=h.compressedSize,ie.uncompressedSize=h.uncompressedSize);var L=0;v&&(L|=8),A||!z&&!d||(L|=2048);var B=0,ee=0;te&&(B|=16),f==="UNIX"?(ee=798,B|=function(P,Q){var re=P;return P||(re=Q?16893:33204),(65535&re)<<16}(C.unixPermissions,te)):(ee=20,B|=function(P){return 63&(P||0)}(C.dosPermissions)),x=G.getUTCHours(),x<<=6,x|=G.getUTCMinutes(),x<<=5,x|=G.getUTCSeconds()/2,S=G.getUTCFullYear()-1980,S<<=4,S|=G.getUTCMonth()+1,S<<=5,S|=G.getUTCDate(),z&&(Y=s(1,1)+s(a(O),4)+I,M+="up"+s(Y.length,2)+Y),d&&(R=s(1,1)+s(a($),4)+b,M+="uc"+s(R.length,2)+R);var D="";return D+=`
\0`,D+=s(L,2),D+=j.magic,D+=s(x,2),D+=s(S,2),D+=s(ie.crc32,4),D+=s(ie.compressedSize,4),D+=s(ie.uncompressedSize,4),D+=s(O.length,2),D+=s(M.length,2),{fileRecord:g.LOCAL_FILE_HEADER+D+O+M,dirRecord:g.CENTRAL_FILE_HEADER+s(ee,2)+D+s($.length,2)+"\0\0\0\0"+s(B,4)+s(_,4)+O+M+$}}var t=e("../utils"),c=e("../stream/GenericWorker"),p=e("../utf8"),a=e("../crc32"),g=e("../signature");function y(h,v,u,_){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=u,this.encodeFileName=_,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}t.inherits(y,c),y.prototype.push=function(h){var v=h.meta.percent||0,u=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:u?(v+100*(u-_-1))/u:100}}))},y.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var u=r(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,u=r(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),v)this.push({data:function(_){return g.DATA_DESCRIPTOR+s(_.crc32,4)+s(_.compressedSize,4)+s(_.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var u=this.bytesWritten-h,_=function(f,w,x,S,C){var j=t.transformTo("string",C(S));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(f,2)+s(f,2)+s(w,4)+s(x,4)+s(j.length,2)+j}(this.dirRecords.length,u,h,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(u){v.processChunk(u)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(u){v.error(u)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(h){var v=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var u=0;u<v.length;u++)try{v[u].error(h)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},m.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,m,l){var s=e("../compressions"),r=e("./ZipFileWorker");l.generateWorker=function(t,c,p){var a=new r(c.streamFiles,p,c.platform,c.encodeFileName),g=0;try{t.forEach(function(y,h){g++;var v=function(w,x){var S=w||x,C=s[S];if(!C)throw new Error(S+" is not a valid compression method !");return C}(h.options.compression,c.compression),u=h.options.compressionOptions||c.compressionOptions||{},_=h.dir,f=h.date;h._compressWorker(v,u).withStreamInfo("file",{name:y,dir:_,date:f,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(a)}),a.entriesCount=g}catch(y){a.error(y)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,m,l){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new s;for(var t in this)typeof this[t]!="function"&&(r[t]=this[t]);return r}}(s.prototype=e("./object")).loadAsync=e("./load"),s.support=e("./support"),s.defaults=e("./defaults"),s.version="3.10.1",s.loadAsync=function(r,t){return new s().loadAsync(r,t)},s.external=e("./external"),m.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,m,l){var s=e("./utils"),r=e("./external"),t=e("./utf8"),c=e("./zipEntries"),p=e("./stream/Crc32Probe"),a=e("./nodejsUtils");function g(y){return new r.Promise(function(h,v){var u=y.decompressed.getContentWorker().pipe(new p);u.on("error",function(_){v(_)}).on("end",function(){u.streamInfo.crc32!==y.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}m.exports=function(y,h){var v=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:t.utf8decode}),a.isNode&&a.isStream(y)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",y,!0,h.optimizedBinaryString,h.base64).then(function(u){var _=new c(h);return _.load(u),_}).then(function(u){var _=[r.Promise.resolve(u)],f=u.files;if(h.checkCRC32)for(var w=0;w<f.length;w++)_.push(g(f[w]));return r.Promise.all(_)}).then(function(u){for(var _=u.shift(),f=_.files,w=0;w<f.length;w++){var x=f[w],S=x.fileNameStr,C=s.resolve(x.fileNameStr);v.file(C,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(v.file(C).unsafeOriginalName=S)}return _.zipComment.length&&(v.comment=_.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,m,l){var s=e("../utils"),r=e("../stream/GenericWorker");function t(c,p){r.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(p)}s.inherits(t,r),t.prototype._bindStream=function(c){var p=this;(this._stream=c).pause(),c.on("data",function(a){p.push({data:a,meta:{percent:0}})}).on("error",function(a){p.isPaused?this.generatedError=a:p.error(a)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},t.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},t.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=t},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,m,l){var s=e("readable-stream").Readable;function r(t,c,p){s.call(this,c),this._helper=t;var a=this;t.on("data",function(g,y){a.push(g)||a._helper.pause(),p&&p(y)}).on("error",function(g){a.emit("error",g)}).on("end",function(){a.push(null)})}e("../utils").inherits(r,s),r.prototype._read=function(){this._helper.resume()},m.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,m,l){m.exports={isNode:typeof Pe<"u",newBufferFrom:function(s,r){if(Pe.from&&Pe.from!==Uint8Array.from)return Pe.from(s,r);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Pe(s,r)},allocBuffer:function(s){if(Pe.alloc)return Pe.alloc(s);var r=new Pe(s);return r.fill(0),r},isBuffer:function(s){return Pe.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(e,m,l){function s(C,j,A){var O,I=t.getTypeOf(j),N=t.extend(A||{},a);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(C=f(C)),N.createFolders&&(O=_(C))&&w.call(this,O,!0);var $=I==="string"&&N.binary===!1&&N.base64===!1;A&&A.binary!==void 0||(N.binary=!$),(j instanceof g&&j.uncompressedSize===0||N.dir||!j||j.length===0)&&(N.base64=!1,N.binary=!0,j="",N.compression="STORE",I="string");var b=null;b=j instanceof g||j instanceof c?j:v.isNode&&v.isStream(j)?new u(C,j):t.prepareContent(C,j,N.binary,N.optimizedBinaryString,N.base64);var z=new y(C,b,N);this.files[C]=z}var r=e("./utf8"),t=e("./utils"),c=e("./stream/GenericWorker"),p=e("./stream/StreamHelper"),a=e("./defaults"),g=e("./compressedObject"),y=e("./zipObject"),h=e("./generate"),v=e("./nodejsUtils"),u=e("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var j=C.lastIndexOf("/");return 0<j?C.substring(0,j):""},f=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},w=function(C,j){return j=j!==void 0?j:a.createFolders,C=f(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:j}),this.files[C]};function x(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var j,A,O;for(j in this.files)O=this.files[j],(A=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&C(A,O)},filter:function(C){var j=[];return this.forEach(function(A,O){C(A,O)&&j.push(O)}),j},file:function(C,j,A){if(arguments.length!==1)return C=this.root+C,s.call(this,C,j,A),this;if(x(C)){var O=C;return this.filter(function(N,$){return!$.dir&&O.test(N)})}var I=this.files[this.root+C];return I&&!I.dir?I:null},folder:function(C){if(!C)return this;if(x(C))return this.filter(function(I,N){return N.dir&&C.test(I)});var j=this.root+C,A=w.call(this,j),O=this.clone();return O.root=A.name,O},remove:function(C){C=this.root+C;var j=this.files[C];if(j||(C.slice(-1)!=="/"&&(C+="/"),j=this.files[C]),j&&!j.dir)delete this.files[C];else for(var A=this.filter(function(I,N){return N.name.slice(0,C.length)===C}),O=0;O<A.length;O++)delete this.files[A[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var j,A={};try{if((A=t.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");t.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var O=A.comment||this.comment||"";j=h.generateWorker(this,A,O)}catch(I){(j=new c("error")).error(I)}return new p(j,A.type||"string",A.mimeType)},generateAsync:function(C,j){return this.generateInternalStream(C).accumulate(j)},generateNodeStream:function(C,j){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(j)}};m.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,m,l){m.exports=e("stream")},{stream:void 0}],17:[function(e,m,l){var s=e("./DataReader");function r(t){s.call(this,t);for(var c=0;c<this.data.length;c++)t[c]=255&t[c]}e("../utils").inherits(r,s),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var c=t.charCodeAt(0),p=t.charCodeAt(1),a=t.charCodeAt(2),g=t.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===p&&this.data[y+2]===a&&this.data[y+3]===g)return y-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var c=t.charCodeAt(0),p=t.charCodeAt(1),a=t.charCodeAt(2),g=t.charCodeAt(3),y=this.readData(4);return c===y[0]&&p===y[1]&&a===y[2]&&g===y[3]},r.prototype.readData=function(t){if(this.checkOffset(t),t===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,c},m.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,m,l){var s=e("../utils");function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var c,p=0;for(this.checkOffset(t),c=this.index+t-1;c>=this.index;c--)p=(p<<8)+this.byteAt(c);return this.index+=t,p},readString:function(t){return s.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},m.exports=r},{"../utils":32}],19:[function(e,m,l){var s=e("./Uint8ArrayReader");function r(t){s.call(this,t)}e("../utils").inherits(r,s),r.prototype.readData=function(t){this.checkOffset(t);var c=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,c},m.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,m,l){var s=e("./DataReader");function r(t){s.call(this,t)}e("../utils").inherits(r,s),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var c=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,c},m.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,m,l){var s=e("./ArrayReader");function r(t){s.call(this,t)}e("../utils").inherits(r,s),r.prototype.readData=function(t){if(this.checkOffset(t),t===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,c},m.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,m,l){var s=e("../utils"),r=e("../support"),t=e("./ArrayReader"),c=e("./StringReader"),p=e("./NodeBufferReader"),a=e("./Uint8ArrayReader");m.exports=function(g){var y=s.getTypeOf(g);return s.checkSupport(y),y!=="string"||r.uint8array?y==="nodebuffer"?new p(g):r.uint8array?new a(s.transformTo("uint8array",g)):new t(s.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,m,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,m,l){var s=e("./GenericWorker"),r=e("../utils");function t(c){s.call(this,"ConvertWorker to "+c),this.destType=c}r.inherits(t,s),t.prototype.processChunk=function(c){this.push({data:r.transformTo(this.destType,c.data),meta:c.meta})},m.exports=t},{"../utils":32,"./GenericWorker":28}],25:[function(e,m,l){var s=e("./GenericWorker"),r=e("../crc32");function t(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(t,s),t.prototype.processChunk=function(c){this.streamInfo.crc32=r(c.data,this.streamInfo.crc32||0),this.push(c)},m.exports=t},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,m,l){var s=e("../utils"),r=e("./GenericWorker");function t(c){r.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(t,r),t.prototype.processChunk=function(c){if(c){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+c.data.length}r.prototype.processChunk.call(this,c)},m.exports=t},{"../utils":32,"./GenericWorker":28}],27:[function(e,m,l){var s=e("../utils"),r=e("./GenericWorker");function t(c){r.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(a){p.dataIsReady=!0,p.data=a,p.max=a&&a.length||0,p.type=s.getTypeOf(a),p.isPaused||p._tickAndRepeat()},function(a){p.error(a)})}s.inherits(t,r),t.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},t.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},t.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},t.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,p);break;case"uint8array":c=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":c=this.data.slice(this.index,p)}return this.index=p,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=t},{"../utils":32,"./GenericWorker":28}],28:[function(e,m,l){function s(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,t){return this._listeners[r].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,t){if(this._listeners[r])for(var c=0;c<this._listeners[r].length;c++)this._listeners[r][c].call(this,t)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var t=this;return r.on("data",function(c){t.processChunk(c)}),r.on("end",function(){t.end()}),r.on("error",function(c){t.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,t){return this.extraStreamInfo[r]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},m.exports=s},{}],29:[function(e,m,l){var s=e("../utils"),r=e("./ConvertWorker"),t=e("./GenericWorker"),c=e("../base64"),p=e("../support"),a=e("../external"),g=null;if(p.nodestream)try{g=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(v,u){return new a.Promise(function(_,f){var w=[],x=v._internalType,S=v._outputType,C=v._mimeType;v.on("data",function(j,A){w.push(j),u&&u(A)}).on("error",function(j){w=[],f(j)}).on("end",function(){try{var j=function(A,O,I){switch(A){case"blob":return s.newBlob(s.transformTo("arraybuffer",O),I);case"base64":return c.encode(O);default:return s.transformTo(A,O)}}(S,function(A,O){var I,N=0,$=null,b=0;for(I=0;I<O.length;I++)b+=O[I].length;switch(A){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for($=new Uint8Array(b),I=0;I<O.length;I++)$.set(O[I],N),N+=O[I].length;return $;case"nodebuffer":return Pe.concat(O);default:throw new Error("concat : unsupported type '"+A+"'")}}(x,w),C);_(j)}catch(A){f(A)}w=[]}).resume()})}function h(v,u,_){var f=u;switch(u){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=u,this._mimeType=_,s.checkSupport(f),this._worker=v.pipe(new r(f)),v.lock()}catch(w){this._worker=new t("error"),this._worker.error(w)}}h.prototype={accumulate:function(v){return y(this,v)},on:function(v,u){var _=this;return v==="data"?this._worker.on(v,function(f){u.call(_,f.data,f.meta)}):this._worker.on(v,function(){s.delay(u,arguments,_)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},v)}},m.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,m,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Pe<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var s=new ArrayBuffer(0);try{l.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(s),l.blob=r.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!e("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(e,m,l){for(var s=e("./utils"),r=e("./support"),t=e("./nodejsUtils"),c=e("./stream/GenericWorker"),p=new Array(256),a=0;a<256;a++)p[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;p[254]=p[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}l.utf8encode=function(h){return r.nodebuffer?t.newBufferFrom(h,"utf-8"):function(v){var u,_,f,w,x,S=v.length,C=0;for(w=0;w<S;w++)(64512&(_=v.charCodeAt(w)))==55296&&w+1<S&&(64512&(f=v.charCodeAt(w+1)))==56320&&(_=65536+(_-55296<<10)+(f-56320),w++),C+=_<128?1:_<2048?2:_<65536?3:4;for(u=r.uint8array?new Uint8Array(C):new Array(C),w=x=0;x<C;w++)(64512&(_=v.charCodeAt(w)))==55296&&w+1<S&&(64512&(f=v.charCodeAt(w+1)))==56320&&(_=65536+(_-55296<<10)+(f-56320),w++),_<128?u[x++]=_:(_<2048?u[x++]=192|_>>>6:(_<65536?u[x++]=224|_>>>12:(u[x++]=240|_>>>18,u[x++]=128|_>>>12&63),u[x++]=128|_>>>6&63),u[x++]=128|63&_);return u}(h)},l.utf8decode=function(h){return r.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(v){var u,_,f,w,x=v.length,S=new Array(2*x);for(u=_=0;u<x;)if((f=v[u++])<128)S[_++]=f;else if(4<(w=p[f]))S[_++]=65533,u+=w-1;else{for(f&=w===2?31:w===3?15:7;1<w&&u<x;)f=f<<6|63&v[u++],w--;1<w?S[_++]=65533:f<65536?S[_++]=f:(f-=65536,S[_++]=55296|f>>10&1023,S[_++]=56320|1023&f)}return S.length!==_&&(S.subarray?S=S.subarray(0,_):S.length=_),s.applyFromCharCode(S)}(h=s.transformTo(r.uint8array?"uint8array":"array",h))},s.inherits(g,c),g.prototype.processChunk=function(h){var v=s.transformTo(r.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var u=v;(v=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),v.set(u,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var _=function(w,x){var S;for((x=x||w.length)>w.length&&(x=w.length),S=x-1;0<=S&&(192&w[S])==128;)S--;return S<0||S===0?x:S+p[w[S]]>x?S:x}(v),f=v;_!==v.length&&(r.uint8array?(f=v.subarray(0,_),this.leftOver=v.subarray(_,v.length)):(f=v.slice(0,_),this.leftOver=v.slice(_,v.length))),this.push({data:l.utf8decode(f),meta:h.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=g,s.inherits(y,c),y.prototype.processChunk=function(h){this.push({data:l.utf8encode(h.data),meta:h.meta})},l.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,m,l){var s=e("./support"),r=e("./base64"),t=e("./nodejsUtils"),c=e("./external");function p(u){return u}function a(u,_){for(var f=0;f<u.length;++f)_[f]=255&u.charCodeAt(f);return _}e("setimmediate"),l.newBlob=function(u,_){l.checkSupport("blob");try{return new Blob([u],{type:_})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(u),f.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(u,_,f){var w=[],x=0,S=u.length;if(S<=f)return String.fromCharCode.apply(null,u);for(;x<S;)_==="array"||_==="nodebuffer"?w.push(String.fromCharCode.apply(null,u.slice(x,Math.min(x+f,S)))):w.push(String.fromCharCode.apply(null,u.subarray(x,Math.min(x+f,S)))),x+=f;return w.join("")},stringifyByChar:function(u){for(var _="",f=0;f<u.length;f++)_+=String.fromCharCode(u[f]);return _},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,t.allocBuffer(1)).length===1}catch{return!1}}()}};function y(u){var _=65536,f=l.getTypeOf(u),w=!0;if(f==="uint8array"?w=g.applyCanBeUsed.uint8array:f==="nodebuffer"&&(w=g.applyCanBeUsed.nodebuffer),w)for(;1<_;)try{return g.stringifyByChunk(u,f,_)}catch{_=Math.floor(_/2)}return g.stringifyByChar(u)}function h(u,_){for(var f=0;f<u.length;f++)_[f]=u[f];return _}l.applyFromCharCode=y;var v={};v.string={string:p,array:function(u){return a(u,new Array(u.length))},arraybuffer:function(u){return v.string.uint8array(u).buffer},uint8array:function(u){return a(u,new Uint8Array(u.length))},nodebuffer:function(u){return a(u,t.allocBuffer(u.length))}},v.array={string:y,array:p,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return t.newBufferFrom(u)}},v.arraybuffer={string:function(u){return y(new Uint8Array(u))},array:function(u){return h(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:p,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return t.newBufferFrom(new Uint8Array(u))}},v.uint8array={string:y,array:function(u){return h(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:p,nodebuffer:function(u){return t.newBufferFrom(u)}},v.nodebuffer={string:y,array:function(u){return h(u,new Array(u.length))},arraybuffer:function(u){return v.nodebuffer.uint8array(u).buffer},uint8array:function(u){return h(u,new Uint8Array(u.length))},nodebuffer:p},l.transformTo=function(u,_){if(_=_||"",!u)return _;l.checkSupport(u);var f=l.getTypeOf(_);return v[f][u](_)},l.resolve=function(u){for(var _=u.split("/"),f=[],w=0;w<_.length;w++){var x=_[w];x==="."||x===""&&w!==0&&w!==_.length-1||(x===".."?f.pop():f.push(x))}return f.join("/")},l.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":s.nodebuffer&&t.isBuffer(u)?"nodebuffer":s.uint8array&&u instanceof Uint8Array?"uint8array":s.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(u){if(!s[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(u){var _,f,w="";for(f=0;f<(u||"").length;f++)w+="\\x"+((_=u.charCodeAt(f))<16?"0":"")+_.toString(16).toUpperCase();return w},l.delay=function(u,_,f){setImmediate(function(){u.apply(f||null,_||[])})},l.inherits=function(u,_){function f(){}f.prototype=_.prototype,u.prototype=new f},l.extend=function(){var u,_,f={};for(u=0;u<arguments.length;u++)for(_ in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],_)&&f[_]===void 0&&(f[_]=arguments[u][_]);return f},l.prepareContent=function(u,_,f,w,x){return c.Promise.resolve(_).then(function(S){return s.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new c.Promise(function(C,j){var A=new FileReader;A.onload=function(O){C(O.target.result)},A.onerror=function(O){j(O.target.error)},A.readAsArrayBuffer(S)}):S}).then(function(S){var C=l.getTypeOf(S);return C?(C==="arraybuffer"?S=l.transformTo("uint8array",S):C==="string"&&(x?S=r.decode(S):f&&w!==!0&&(S=function(j){return a(j,s.uint8array?new Uint8Array(j.length):new Array(j.length))}(S))),S):c.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,m,l){var s=e("./reader/readerFor"),r=e("./utils"),t=e("./signature"),c=e("./zipEntry"),p=e("./support");function a(g){this.files=[],this.loadOptions=g}a.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(y)+", expected "+r.pretty(g)+")")}},isSignature:function(g,y){var h=this.reader.index;this.reader.setIndex(g);var v=this.reader.readString(4)===y;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),y=p.uint8array?"uint8array":"array",h=r.transformTo(y,g);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,y,h,v=this.zip64EndOfCentralSize-44;0<v;)g=this.reader.readInt(2),y=this.reader.readInt(4),h=this.reader.readData(y),this.zip64ExtensibleData[g]={id:g,length:y,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,y;for(g=0;g<this.files.length;g++)y=this.files[g],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(t.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(t.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(t.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,t.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var y=g;if(this.checkSignature(t.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,t.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=y-h;if(0<v)this.isSignature(y,t.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=a},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,m,l){var s=e("./reader/readerFor"),r=e("./utils"),t=e("./compressedObject"),c=e("./crc32"),p=e("./utf8"),a=e("./compressions"),g=e("./support");function y(h,v){this.options=h,this.loadOptions=v}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,u;if(h.skip(22),this.fileNameLength=h.readInt(2),u=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(_){for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&a[f].magic===_)return a[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new t(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,u,_,f=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<f;)v=h.readInt(2),u=h.readInt(2),_=h.readData(u),this.extraFields[v]={id:v,length:u,value:_};h.setIndex(f)},handleUTF8:function(){var h=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var u=r.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var f=r.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=s(h.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:p.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=s(h.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:p.utf8decode(v.readData(h.length-5))}return null}},m.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,m,l){function s(v,u,_){this.name=v,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=u,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var r=e("./stream/StreamHelper"),t=e("./stream/DataWorker"),c=e("./utf8"),p=e("./compressedObject"),a=e("./stream/GenericWorker");s.prototype={internalStream:function(v){var u=null,_="string";try{if(!v)throw new Error("No output type specified.");var f=(_=v.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),u=this._decompressWorker();var w=!this._dataBinary;w&&!f&&(u=u.pipe(new c.Utf8EncodeWorker)),!w&&f&&(u=u.pipe(new c.Utf8DecodeWorker))}catch(x){(u=new a("error")).error(x)}return new r(u,_,"")},async:function(v,u){return this.internalStream(v).accumulate(u)},nodeStream:function(v,u){return this.internalStream(v||"nodebuffer").toNodejsStream(u)},_compressWorker:function(v,u){if(this._data instanceof p&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new c.Utf8EncodeWorker)),p.createWorkerFrom(_,v,u)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof a?this._data:new t(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<g.length;h++)s.prototype[g[h]]=y;m.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,m,l){(function(s){var r,t,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var p=0,a=new c(v),g=s.document.createTextNode("");a.observe(g,{characterData:!0}),r=function(){g.data=p=++p%2}}else if(s.setImmediate||s.MessageChannel===void 0)r="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var u=s.document.createElement("script");u.onreadystatechange=function(){v(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},s.document.documentElement.appendChild(u)}:function(){setTimeout(v,0)};else{var y=new s.MessageChannel;y.port1.onmessage=v,r=function(){y.port2.postMessage(0)}}var h=[];function v(){var u,_;t=!0;for(var f=h.length;f;){for(_=h,h=[],u=-1;++u<f;)_[u]();f=h.length}t=!1}m.exports=function(u){h.push(u)!==1||t||r()}}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,m,l){var s=e("immediate");function r(){}var t={},c=["REJECTED"],p=["FULFILLED"],a=["PENDING"];function g(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,f!==r&&u(this,f)}function y(f,w,x){this.promise=f,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(f,w,x){s(function(){var S;try{S=w(x)}catch(C){return t.reject(f,C)}S===f?t.reject(f,new TypeError("Cannot resolve promise with itself")):t.resolve(f,S)})}function v(f){var w=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof w=="function")return function(){w.apply(f,arguments)}}function u(f,w){var x=!1;function S(A){x||(x=!0,t.reject(f,A))}function C(A){x||(x=!0,t.resolve(f,A))}var j=_(function(){w(C,S)});j.status==="error"&&S(j.value)}function _(f,w){var x={};try{x.value=f(w),x.status="success"}catch(S){x.status="error",x.value=S}return x}(m.exports=g).prototype.finally=function(f){if(typeof f!="function")return this;var w=this.constructor;return this.then(function(x){return w.resolve(f()).then(function(){return x})},function(x){return w.resolve(f()).then(function(){throw x})})},g.prototype.catch=function(f){return this.then(null,f)},g.prototype.then=function(f,w){if(typeof f!="function"&&this.state===p||typeof w!="function"&&this.state===c)return this;var x=new this.constructor(r);return this.state!==a?h(x,this.state===p?f:w,this.outcome):this.queue.push(new y(x,f,w)),x},y.prototype.callFulfilled=function(f){t.resolve(this.promise,f)},y.prototype.otherCallFulfilled=function(f){h(this.promise,this.onFulfilled,f)},y.prototype.callRejected=function(f){t.reject(this.promise,f)},y.prototype.otherCallRejected=function(f){h(this.promise,this.onRejected,f)},t.resolve=function(f,w){var x=_(v,w);if(x.status==="error")return t.reject(f,x.value);var S=x.value;if(S)u(f,S);else{f.state=p,f.outcome=w;for(var C=-1,j=f.queue.length;++C<j;)f.queue[C].callFulfilled(w)}return f},t.reject=function(f,w){f.state=c,f.outcome=w;for(var x=-1,S=f.queue.length;++x<S;)f.queue[x].callRejected(w);return f},g.resolve=function(f){return f instanceof this?f:t.resolve(new this(r),f)},g.reject=function(f){var w=new this(r);return t.reject(w,f)},g.all=function(f){var w=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=f.length,S=!1;if(!x)return this.resolve([]);for(var C=new Array(x),j=0,A=-1,O=new this(r);++A<x;)I(f[A],A);return O;function I(N,$){w.resolve(N).then(function(b){C[$]=b,++j!==x||S||(S=!0,t.resolve(O,C))},function(b){S||(S=!0,t.reject(O,b))})}},g.race=function(f){var w=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=f.length,S=!1;if(!x)return this.resolve([]);for(var C=-1,j=new this(r);++C<x;)A=f[C],w.resolve(A).then(function(O){S||(S=!0,t.resolve(j,O))},function(O){S||(S=!0,t.reject(j,O))});var A;return j}},{immediate:36}],38:[function(e,m,l){var s={};(0,e("./lib/utils/common").assign)(s,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),m.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,m,l){var s=e("./zlib/deflate"),r=e("./utils/common"),t=e("./utils/strings"),c=e("./zlib/messages"),p=e("./zlib/zstream"),a=Object.prototype.toString,g=0,y=-1,h=0,v=8;function u(f){if(!(this instanceof u))return new u(f);this.options=r.assign({level:y,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},f||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(x!==g)throw new Error(c[x]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var S;if(S=typeof w.dictionary=="string"?t.string2buf(w.dictionary):a.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(x=s.deflateSetDictionary(this.strm,S))!==g)throw new Error(c[x]);this._dict_set=!0}}function _(f,w){var x=new u(w);if(x.push(f,!0),x.err)throw x.msg||c[x.err];return x.result}u.prototype.push=function(f,w){var x,S,C=this.strm,j=this.options.chunkSize;if(this.ended)return!1;S=w===~~w?w:w===!0?4:0,typeof f=="string"?C.input=t.string2buf(f):a.call(f)==="[object ArrayBuffer]"?C.input=new Uint8Array(f):C.input=f,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new r.Buf8(j),C.next_out=0,C.avail_out=j),(x=s.deflate(C,S))!==1&&x!==g)return this.onEnd(x),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(t.buf2binstring(r.shrinkBuf(C.output,C.next_out))):this.onData(r.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&x!==1);return S===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===g):S!==2||(this.onEnd(g),!(C.avail_out=0))},u.prototype.onData=function(f){this.chunks.push(f)},u.prototype.onEnd=function(f){f===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},l.Deflate=u,l.deflate=_,l.deflateRaw=function(f,w){return(w=w||{}).raw=!0,_(f,w)},l.gzip=function(f,w){return(w=w||{}).gzip=!0,_(f,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,m,l){var s=e("./zlib/inflate"),r=e("./utils/common"),t=e("./utils/strings"),c=e("./zlib/constants"),p=e("./zlib/messages"),a=e("./zlib/zstream"),g=e("./zlib/gzheader"),y=Object.prototype.toString;function h(u){if(!(this instanceof h))return new h(u);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},u||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||u&&u.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var f=s.inflateInit2(this.strm,_.windowBits);if(f!==c.Z_OK)throw new Error(p[f]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function v(u,_){var f=new h(_);if(f.push(u,!0),f.err)throw f.msg||p[f.err];return f.result}h.prototype.push=function(u,_){var f,w,x,S,C,j,A=this.strm,O=this.options.chunkSize,I=this.options.dictionary,N=!1;if(this.ended)return!1;w=_===~~_?_:_===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof u=="string"?A.input=t.binstring2buf(u):y.call(u)==="[object ArrayBuffer]"?A.input=new Uint8Array(u):A.input=u,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new r.Buf8(O),A.next_out=0,A.avail_out=O),(f=s.inflate(A,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(j=typeof I=="string"?t.string2buf(I):y.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,f=s.inflateSetDictionary(this.strm,j)),f===c.Z_BUF_ERROR&&N===!0&&(f=c.Z_OK,N=!1),f!==c.Z_STREAM_END&&f!==c.Z_OK)return this.onEnd(f),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&f!==c.Z_STREAM_END&&(A.avail_in!==0||w!==c.Z_FINISH&&w!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=t.utf8border(A.output,A.next_out),S=A.next_out-x,C=t.buf2string(A.output,x),A.next_out=S,A.avail_out=O-S,S&&r.arraySet(A.output,A.output,x,S,0),this.onData(C)):this.onData(r.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(N=!0)}while((0<A.avail_in||A.avail_out===0)&&f!==c.Z_STREAM_END);return f===c.Z_STREAM_END&&(w=c.Z_FINISH),w===c.Z_FINISH?(f=s.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===c.Z_OK):w!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(A.avail_out=0))},h.prototype.onData=function(u){this.chunks.push(u)},h.prototype.onEnd=function(u){u===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},l.Inflate=h,l.inflate=v,l.inflateRaw=function(u,_){return(_=_||{}).raw=!0,v(u,_)},l.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,m,l){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(c){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var a=p.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var g in a)a.hasOwnProperty(g)&&(c[g]=a[g])}}return c},l.shrinkBuf=function(c,p){return c.length===p?c:c.subarray?c.subarray(0,p):(c.length=p,c)};var r={arraySet:function(c,p,a,g,y){if(p.subarray&&c.subarray)c.set(p.subarray(a,a+g),y);else for(var h=0;h<g;h++)c[y+h]=p[a+h]},flattenChunks:function(c){var p,a,g,y,h,v;for(p=g=0,a=c.length;p<a;p++)g+=c[p].length;for(v=new Uint8Array(g),p=y=0,a=c.length;p<a;p++)h=c[p],v.set(h,y),y+=h.length;return v}},t={arraySet:function(c,p,a,g,y){for(var h=0;h<g;h++)c[y+h]=p[a+h]},flattenChunks:function(c){return[].concat.apply([],c)}};l.setTyped=function(c){c?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,r)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,t))},l.setTyped(s)},{}],42:[function(e,m,l){var s=e("./common"),r=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var c=new s.Buf8(256),p=0;p<256;p++)c[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function a(g,y){if(y<65537&&(g.subarray&&t||!g.subarray&&r))return String.fromCharCode.apply(null,s.shrinkBuf(g,y));for(var h="",v=0;v<y;v++)h+=String.fromCharCode(g[v]);return h}c[254]=c[254]=1,l.string2buf=function(g){var y,h,v,u,_,f=g.length,w=0;for(u=0;u<f;u++)(64512&(h=g.charCodeAt(u)))==55296&&u+1<f&&(64512&(v=g.charCodeAt(u+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),u++),w+=h<128?1:h<2048?2:h<65536?3:4;for(y=new s.Buf8(w),u=_=0;_<w;u++)(64512&(h=g.charCodeAt(u)))==55296&&u+1<f&&(64512&(v=g.charCodeAt(u+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),u++),h<128?y[_++]=h:(h<2048?y[_++]=192|h>>>6:(h<65536?y[_++]=224|h>>>12:(y[_++]=240|h>>>18,y[_++]=128|h>>>12&63),y[_++]=128|h>>>6&63),y[_++]=128|63&h);return y},l.buf2binstring=function(g){return a(g,g.length)},l.binstring2buf=function(g){for(var y=new s.Buf8(g.length),h=0,v=y.length;h<v;h++)y[h]=g.charCodeAt(h);return y},l.buf2string=function(g,y){var h,v,u,_,f=y||g.length,w=new Array(2*f);for(h=v=0;h<f;)if((u=g[h++])<128)w[v++]=u;else if(4<(_=c[u]))w[v++]=65533,h+=_-1;else{for(u&=_===2?31:_===3?15:7;1<_&&h<f;)u=u<<6|63&g[h++],_--;1<_?w[v++]=65533:u<65536?w[v++]=u:(u-=65536,w[v++]=55296|u>>10&1023,w[v++]=56320|1023&u)}return a(w,v)},l.utf8border=function(g,y){var h;for((y=y||g.length)>g.length&&(y=g.length),h=y-1;0<=h&&(192&g[h])==128;)h--;return h<0||h===0?y:h+c[g[h]]>y?h:y}},{"./common":41}],43:[function(e,m,l){m.exports=function(s,r,t,c){for(var p=65535&s|0,a=s>>>16&65535|0,g=0;t!==0;){for(t-=g=2e3<t?2e3:t;a=a+(p=p+r[c++]|0)|0,--g;);p%=65521,a%=65521}return p|a<<16|0}},{}],44:[function(e,m,l){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,m,l){var s=function(){for(var r,t=[],c=0;c<256;c++){r=c;for(var p=0;p<8;p++)r=1&r?3988292384^r>>>1:r>>>1;t[c]=r}return t}();m.exports=function(r,t,c,p){var a=s,g=p+c;r^=-1;for(var y=p;y<g;y++)r=r>>>8^a[255&(r^t[y])];return-1^r}},{}],46:[function(e,m,l){var s,r=e("../utils/common"),t=e("./trees"),c=e("./adler32"),p=e("./crc32"),a=e("./messages"),g=0,y=4,h=0,v=-2,u=-1,_=4,f=2,w=8,x=9,S=286,C=30,j=19,A=2*S+1,O=15,I=3,N=258,$=N+I+1,b=42,z=113,d=1,M=2,Y=3,R=4;function te(n,Z){return n.msg=a[Z],Z}function G(n){return(n<<1)-(4<n?9:0)}function ie(n){for(var Z=n.length;0<=--Z;)n[Z]=0}function L(n){var Z=n.state,U=Z.pending;U>n.avail_out&&(U=n.avail_out),U!==0&&(r.arraySet(n.output,Z.pending_buf,Z.pending_out,U,n.next_out),n.next_out+=U,Z.pending_out+=U,n.total_out+=U,n.avail_out-=U,Z.pending-=U,Z.pending===0&&(Z.pending_out=0))}function B(n,Z){t._tr_flush_block(n,0<=n.block_start?n.block_start:-1,n.strstart-n.block_start,Z),n.block_start=n.strstart,L(n.strm)}function ee(n,Z){n.pending_buf[n.pending++]=Z}function D(n,Z){n.pending_buf[n.pending++]=Z>>>8&255,n.pending_buf[n.pending++]=255&Z}function P(n,Z){var U,E,k=n.max_chain_length,T=n.strstart,H=n.prev_length,V=n.nice_match,F=n.strstart>n.w_size-$?n.strstart-(n.w_size-$):0,K=n.window,X=n.w_mask,J=n.prev,se=n.strstart+N,me=K[T+H-1],de=K[T+H];n.prev_length>=n.good_match&&(k>>=2),V>n.lookahead&&(V=n.lookahead);do if(K[(U=Z)+H]===de&&K[U+H-1]===me&&K[U]===K[T]&&K[++U]===K[T+1]){T+=2,U++;do;while(K[++T]===K[++U]&&K[++T]===K[++U]&&K[++T]===K[++U]&&K[++T]===K[++U]&&K[++T]===K[++U]&&K[++T]===K[++U]&&K[++T]===K[++U]&&K[++T]===K[++U]&&T<se);if(E=N-(se-T),T=se-N,H<E){if(n.match_start=Z,V<=(H=E))break;me=K[T+H-1],de=K[T+H]}}while((Z=J[Z&X])>F&&--k!=0);return H<=n.lookahead?H:n.lookahead}function Q(n){var Z,U,E,k,T,H,V,F,K,X,J=n.w_size;do{if(k=n.window_size-n.lookahead-n.strstart,n.strstart>=J+(J-$)){for(r.arraySet(n.window,n.window,J,J,0),n.match_start-=J,n.strstart-=J,n.block_start-=J,Z=U=n.hash_size;E=n.head[--Z],n.head[Z]=J<=E?E-J:0,--U;);for(Z=U=J;E=n.prev[--Z],n.prev[Z]=J<=E?E-J:0,--U;);k+=J}if(n.strm.avail_in===0)break;if(H=n.strm,V=n.window,F=n.strstart+n.lookahead,K=k,X=void 0,X=H.avail_in,K<X&&(X=K),U=X===0?0:(H.avail_in-=X,r.arraySet(V,H.input,H.next_in,X,F),H.state.wrap===1?H.adler=c(H.adler,V,X,F):H.state.wrap===2&&(H.adler=p(H.adler,V,X,F)),H.next_in+=X,H.total_in+=X,X),n.lookahead+=U,n.lookahead+n.insert>=I)for(T=n.strstart-n.insert,n.ins_h=n.window[T],n.ins_h=(n.ins_h<<n.hash_shift^n.window[T+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[T+I-1])&n.hash_mask,n.prev[T&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=T,T++,n.insert--,!(n.lookahead+n.insert<I)););}while(n.lookahead<$&&n.strm.avail_in!==0)}function re(n,Z){for(var U,E;;){if(n.lookahead<$){if(Q(n),n.lookahead<$&&Z===g)return d;if(n.lookahead===0)break}if(U=0,n.lookahead>=I&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+I-1])&n.hash_mask,U=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),U!==0&&n.strstart-U<=n.w_size-$&&(n.match_length=P(n,U)),n.match_length>=I)if(E=t._tr_tally(n,n.strstart-n.match_start,n.match_length-I),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=I){for(n.match_length--;n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+I-1])&n.hash_mask,U=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart,--n.match_length!=0;);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else E=t._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(E&&(B(n,!1),n.strm.avail_out===0))return d}return n.insert=n.strstart<I-1?n.strstart:I-1,Z===y?(B(n,!0),n.strm.avail_out===0?Y:R):n.last_lit&&(B(n,!1),n.strm.avail_out===0)?d:M}function ne(n,Z){for(var U,E,k;;){if(n.lookahead<$){if(Q(n),n.lookahead<$&&Z===g)return d;if(n.lookahead===0)break}if(U=0,n.lookahead>=I&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+I-1])&n.hash_mask,U=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=I-1,U!==0&&n.prev_length<n.max_lazy_match&&n.strstart-U<=n.w_size-$&&(n.match_length=P(n,U),n.match_length<=5&&(n.strategy===1||n.match_length===I&&4096<n.strstart-n.match_start)&&(n.match_length=I-1)),n.prev_length>=I&&n.match_length<=n.prev_length){for(k=n.strstart+n.lookahead-I,E=t._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-I),n.lookahead-=n.prev_length-1,n.prev_length-=2;++n.strstart<=k&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+I-1])&n.hash_mask,U=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),--n.prev_length!=0;);if(n.match_available=0,n.match_length=I-1,n.strstart++,E&&(B(n,!1),n.strm.avail_out===0))return d}else if(n.match_available){if((E=t._tr_tally(n,0,n.window[n.strstart-1]))&&B(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return d}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(E=t._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<I-1?n.strstart:I-1,Z===y?(B(n,!0),n.strm.avail_out===0?Y:R):n.last_lit&&(B(n,!1),n.strm.avail_out===0)?d:M}function ae(n,Z,U,E,k){this.good_length=n,this.max_lazy=Z,this.nice_length=U,this.max_chain=E,this.func=k}function pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*A),this.dyn_dtree=new r.Buf16(2*(2*C+1)),this.bl_tree=new r.Buf16(2*(2*j+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(O+1),this.heap=new r.Buf16(2*S+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*S+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(n){var Z;return n&&n.state?(n.total_in=n.total_out=0,n.data_type=f,(Z=n.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?b:z,n.adler=Z.wrap===2?0:1,Z.last_flush=g,t._tr_init(Z),h):te(n,v)}function _e(n){var Z=he(n);return Z===h&&function(U){U.window_size=2*U.w_size,ie(U.head),U.max_lazy_match=s[U.level].max_lazy,U.good_match=s[U.level].good_length,U.nice_match=s[U.level].nice_length,U.max_chain_length=s[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=I-1,U.match_available=0,U.ins_h=0}(n.state),Z}function be(n,Z,U,E,k,T){if(!n)return v;var H=1;if(Z===u&&(Z=6),E<0?(H=0,E=-E):15<E&&(H=2,E-=16),k<1||x<k||U!==w||E<8||15<E||Z<0||9<Z||T<0||_<T)return te(n,v);E===8&&(E=9);var V=new pe;return(n.state=V).strm=n,V.wrap=H,V.gzhead=null,V.w_bits=E,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=k+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+I-1)/I),V.window=new r.Buf8(2*V.w_size),V.head=new r.Buf16(V.hash_size),V.prev=new r.Buf16(V.w_size),V.lit_bufsize=1<<k+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new r.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=Z,V.strategy=T,V.method=U,_e(n)}s=[new ae(0,0,0,0,function(n,Z){var U=65535;for(U>n.pending_buf_size-5&&(U=n.pending_buf_size-5);;){if(n.lookahead<=1){if(Q(n),n.lookahead===0&&Z===g)return d;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;var E=n.block_start+U;if((n.strstart===0||n.strstart>=E)&&(n.lookahead=n.strstart-E,n.strstart=E,B(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-$&&(B(n,!1),n.strm.avail_out===0))return d}return n.insert=0,Z===y?(B(n,!0),n.strm.avail_out===0?Y:R):(n.strstart>n.block_start&&(B(n,!1),n.strm.avail_out),d)}),new ae(4,4,8,4,re),new ae(4,5,16,8,re),new ae(4,6,32,32,re),new ae(4,4,16,16,ne),new ae(8,16,32,32,ne),new ae(8,16,128,128,ne),new ae(8,32,128,256,ne),new ae(32,128,258,1024,ne),new ae(32,258,258,4096,ne)],l.deflateInit=function(n,Z){return be(n,Z,w,15,8,0)},l.deflateInit2=be,l.deflateReset=_e,l.deflateResetKeep=he,l.deflateSetHeader=function(n,Z){return n&&n.state?n.state.wrap!==2?v:(n.state.gzhead=Z,h):v},l.deflate=function(n,Z){var U,E,k,T;if(!n||!n.state||5<Z||Z<0)return n?te(n,v):v;if(E=n.state,!n.output||!n.input&&n.avail_in!==0||E.status===666&&Z!==y)return te(n,n.avail_out===0?-5:v);if(E.strm=n,U=E.last_flush,E.last_flush=Z,E.status===b)if(E.wrap===2)n.adler=0,ee(E,31),ee(E,139),ee(E,8),E.gzhead?(ee(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),ee(E,255&E.gzhead.time),ee(E,E.gzhead.time>>8&255),ee(E,E.gzhead.time>>16&255),ee(E,E.gzhead.time>>24&255),ee(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),ee(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(ee(E,255&E.gzhead.extra.length),ee(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(n.adler=p(n.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(ee(E,0),ee(E,0),ee(E,0),ee(E,0),ee(E,0),ee(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),ee(E,3),E.status=z);else{var H=w+(E.w_bits-8<<4)<<8;H|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(H|=32),H+=31-H%31,E.status=z,D(E,H),E.strstart!==0&&(D(E,n.adler>>>16),D(E,65535&n.adler)),n.adler=1}if(E.status===69)if(E.gzhead.extra){for(k=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>k&&(n.adler=p(n.adler,E.pending_buf,E.pending-k,k)),L(n),k=E.pending,E.pending!==E.pending_buf_size));)ee(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>k&&(n.adler=p(n.adler,E.pending_buf,E.pending-k,k)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){k=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>k&&(n.adler=p(n.adler,E.pending_buf,E.pending-k,k)),L(n),k=E.pending,E.pending===E.pending_buf_size)){T=1;break}T=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,ee(E,T)}while(T!==0);E.gzhead.hcrc&&E.pending>k&&(n.adler=p(n.adler,E.pending_buf,E.pending-k,k)),T===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){k=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>k&&(n.adler=p(n.adler,E.pending_buf,E.pending-k,k)),L(n),k=E.pending,E.pending===E.pending_buf_size)){T=1;break}T=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,ee(E,T)}while(T!==0);E.gzhead.hcrc&&E.pending>k&&(n.adler=p(n.adler,E.pending_buf,E.pending-k,k)),T===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&L(n),E.pending+2<=E.pending_buf_size&&(ee(E,255&n.adler),ee(E,n.adler>>8&255),n.adler=0,E.status=z)):E.status=z),E.pending!==0){if(L(n),n.avail_out===0)return E.last_flush=-1,h}else if(n.avail_in===0&&G(Z)<=G(U)&&Z!==y)return te(n,-5);if(E.status===666&&n.avail_in!==0)return te(n,-5);if(n.avail_in!==0||E.lookahead!==0||Z!==g&&E.status!==666){var V=E.strategy===2?function(F,K){for(var X;;){if(F.lookahead===0&&(Q(F),F.lookahead===0)){if(K===g)return d;break}if(F.match_length=0,X=t._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,X&&(B(F,!1),F.strm.avail_out===0))return d}return F.insert=0,K===y?(B(F,!0),F.strm.avail_out===0?Y:R):F.last_lit&&(B(F,!1),F.strm.avail_out===0)?d:M}(E,Z):E.strategy===3?function(F,K){for(var X,J,se,me,de=F.window;;){if(F.lookahead<=N){if(Q(F),F.lookahead<=N&&K===g)return d;if(F.lookahead===0)break}if(F.match_length=0,F.lookahead>=I&&0<F.strstart&&(J=de[se=F.strstart-1])===de[++se]&&J===de[++se]&&J===de[++se]){me=F.strstart+N;do;while(J===de[++se]&&J===de[++se]&&J===de[++se]&&J===de[++se]&&J===de[++se]&&J===de[++se]&&J===de[++se]&&J===de[++se]&&se<me);F.match_length=N-(me-se),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=I?(X=t._tr_tally(F,1,F.match_length-I),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(X=t._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),X&&(B(F,!1),F.strm.avail_out===0))return d}return F.insert=0,K===y?(B(F,!0),F.strm.avail_out===0?Y:R):F.last_lit&&(B(F,!1),F.strm.avail_out===0)?d:M}(E,Z):s[E.level].func(E,Z);if(V!==Y&&V!==R||(E.status=666),V===d||V===Y)return n.avail_out===0&&(E.last_flush=-1),h;if(V===M&&(Z===1?t._tr_align(E):Z!==5&&(t._tr_stored_block(E,0,0,!1),Z===3&&(ie(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),L(n),n.avail_out===0))return E.last_flush=-1,h}return Z!==y?h:E.wrap<=0?1:(E.wrap===2?(ee(E,255&n.adler),ee(E,n.adler>>8&255),ee(E,n.adler>>16&255),ee(E,n.adler>>24&255),ee(E,255&n.total_in),ee(E,n.total_in>>8&255),ee(E,n.total_in>>16&255),ee(E,n.total_in>>24&255)):(D(E,n.adler>>>16),D(E,65535&n.adler)),L(n),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?h:1)},l.deflateEnd=function(n){var Z;return n&&n.state?(Z=n.state.status)!==b&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==z&&Z!==666?te(n,v):(n.state=null,Z===z?te(n,-3):h):v},l.deflateSetDictionary=function(n,Z){var U,E,k,T,H,V,F,K,X=Z.length;if(!n||!n.state||(T=(U=n.state).wrap)===2||T===1&&U.status!==b||U.lookahead)return v;for(T===1&&(n.adler=c(n.adler,Z,X,0)),U.wrap=0,X>=U.w_size&&(T===0&&(ie(U.head),U.strstart=0,U.block_start=0,U.insert=0),K=new r.Buf8(U.w_size),r.arraySet(K,Z,X-U.w_size,U.w_size,0),Z=K,X=U.w_size),H=n.avail_in,V=n.next_in,F=n.input,n.avail_in=X,n.next_in=0,n.input=Z,Q(U);U.lookahead>=I;){for(E=U.strstart,k=U.lookahead-(I-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[E+I-1])&U.hash_mask,U.prev[E&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=E,E++,--k;);U.strstart=E,U.lookahead=I-1,Q(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=I-1,U.match_available=0,n.next_in=V,n.input=F,n.avail_in=H,U.wrap=T,h},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,m,l){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,m,l){m.exports=function(s,r){var t,c,p,a,g,y,h,v,u,_,f,w,x,S,C,j,A,O,I,N,$,b,z,d,M;t=s.state,c=s.next_in,d=s.input,p=c+(s.avail_in-5),a=s.next_out,M=s.output,g=a-(r-s.avail_out),y=a+(s.avail_out-257),h=t.dmax,v=t.wsize,u=t.whave,_=t.wnext,f=t.window,w=t.hold,x=t.bits,S=t.lencode,C=t.distcode,j=(1<<t.lenbits)-1,A=(1<<t.distbits)-1;e:do{x<15&&(w+=d[c++]<<x,x+=8,w+=d[c++]<<x,x+=8),O=S[w&j];t:for(;;){if(w>>>=I=O>>>24,x-=I,(I=O>>>16&255)===0)M[a++]=65535&O;else{if(!(16&I)){if((64&I)==0){O=S[(65535&O)+(w&(1<<I)-1)];continue t}if(32&I){t.mode=12;break e}s.msg="invalid literal/length code",t.mode=30;break e}N=65535&O,(I&=15)&&(x<I&&(w+=d[c++]<<x,x+=8),N+=w&(1<<I)-1,w>>>=I,x-=I),x<15&&(w+=d[c++]<<x,x+=8,w+=d[c++]<<x,x+=8),O=C[w&A];n:for(;;){if(w>>>=I=O>>>24,x-=I,!(16&(I=O>>>16&255))){if((64&I)==0){O=C[(65535&O)+(w&(1<<I)-1)];continue n}s.msg="invalid distance code",t.mode=30;break e}if($=65535&O,x<(I&=15)&&(w+=d[c++]<<x,(x+=8)<I&&(w+=d[c++]<<x,x+=8)),h<($+=w&(1<<I)-1)){s.msg="invalid distance too far back",t.mode=30;break e}if(w>>>=I,x-=I,(I=a-g)<$){if(u<(I=$-I)&&t.sane){s.msg="invalid distance too far back",t.mode=30;break e}if(z=f,(b=0)===_){if(b+=v-I,I<N){for(N-=I;M[a++]=f[b++],--I;);b=a-$,z=M}}else if(_<I){if(b+=v+_-I,(I-=_)<N){for(N-=I;M[a++]=f[b++],--I;);if(b=0,_<N){for(N-=I=_;M[a++]=f[b++],--I;);b=a-$,z=M}}}else if(b+=_-I,I<N){for(N-=I;M[a++]=f[b++],--I;);b=a-$,z=M}for(;2<N;)M[a++]=z[b++],M[a++]=z[b++],M[a++]=z[b++],N-=3;N&&(M[a++]=z[b++],1<N&&(M[a++]=z[b++]))}else{for(b=a-$;M[a++]=M[b++],M[a++]=M[b++],M[a++]=M[b++],2<(N-=3););N&&(M[a++]=M[b++],1<N&&(M[a++]=M[b++]))}break}}break}}while(c<p&&a<y);c-=N=x>>3,w&=(1<<(x-=N<<3))-1,s.next_in=c,s.next_out=a,s.avail_in=c<p?p-c+5:5-(c-p),s.avail_out=a<y?y-a+257:257-(a-y),t.hold=w,t.bits=x}},{}],49:[function(e,m,l){var s=e("../utils/common"),r=e("./adler32"),t=e("./crc32"),c=e("./inffast"),p=e("./inftrees"),a=1,g=2,y=0,h=-2,v=1,u=852,_=592;function f(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(b){var z;return b&&b.state?(z=b.state,b.total_in=b.total_out=z.total=0,b.msg="",z.wrap&&(b.adler=1&z.wrap),z.mode=v,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new s.Buf32(u),z.distcode=z.distdyn=new s.Buf32(_),z.sane=1,z.back=-1,y):h}function S(b){var z;return b&&b.state?((z=b.state).wsize=0,z.whave=0,z.wnext=0,x(b)):h}function C(b,z){var d,M;return b&&b.state?(M=b.state,z<0?(d=0,z=-z):(d=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?h:(M.window!==null&&M.wbits!==z&&(M.window=null),M.wrap=d,M.wbits=z,S(b))):h}function j(b,z){var d,M;return b?(M=new w,(b.state=M).window=null,(d=C(b,z))!==y&&(b.state=null),d):h}var A,O,I=!0;function N(b){if(I){var z;for(A=new s.Buf32(512),O=new s.Buf32(32),z=0;z<144;)b.lens[z++]=8;for(;z<256;)b.lens[z++]=9;for(;z<280;)b.lens[z++]=7;for(;z<288;)b.lens[z++]=8;for(p(a,b.lens,0,288,A,0,b.work,{bits:9}),z=0;z<32;)b.lens[z++]=5;p(g,b.lens,0,32,O,0,b.work,{bits:5}),I=!1}b.lencode=A,b.lenbits=9,b.distcode=O,b.distbits=5}function $(b,z,d,M){var Y,R=b.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new s.Buf8(R.wsize)),M>=R.wsize?(s.arraySet(R.window,z,d-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):(M<(Y=R.wsize-R.wnext)&&(Y=M),s.arraySet(R.window,z,d-M,Y,R.wnext),(M-=Y)?(s.arraySet(R.window,z,d-M,M,0),R.wnext=M,R.whave=R.wsize):(R.wnext+=Y,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=Y))),0}l.inflateReset=S,l.inflateReset2=C,l.inflateResetKeep=x,l.inflateInit=function(b){return j(b,15)},l.inflateInit2=j,l.inflate=function(b,z){var d,M,Y,R,te,G,ie,L,B,ee,D,P,Q,re,ne,ae,pe,he,_e,be,n,Z,U,E,k=0,T=new s.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return h;(d=b.state).mode===12&&(d.mode=13),te=b.next_out,Y=b.output,ie=b.avail_out,R=b.next_in,M=b.input,G=b.avail_in,L=d.hold,B=d.bits,ee=G,D=ie,Z=y;e:for(;;)switch(d.mode){case v:if(d.wrap===0){d.mode=13;break}for(;B<16;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if(2&d.wrap&&L===35615){T[d.check=0]=255&L,T[1]=L>>>8&255,d.check=t(d.check,T,2,0),B=L=0,d.mode=2;break}if(d.flags=0,d.head&&(d.head.done=!1),!(1&d.wrap)||(((255&L)<<8)+(L>>8))%31){b.msg="incorrect header check",d.mode=30;break}if((15&L)!=8){b.msg="unknown compression method",d.mode=30;break}if(B-=4,n=8+(15&(L>>>=4)),d.wbits===0)d.wbits=n;else if(n>d.wbits){b.msg="invalid window size",d.mode=30;break}d.dmax=1<<n,b.adler=d.check=1,d.mode=512&L?10:12,B=L=0;break;case 2:for(;B<16;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if(d.flags=L,(255&d.flags)!=8){b.msg="unknown compression method",d.mode=30;break}if(57344&d.flags){b.msg="unknown header flags set",d.mode=30;break}d.head&&(d.head.text=L>>8&1),512&d.flags&&(T[0]=255&L,T[1]=L>>>8&255,d.check=t(d.check,T,2,0)),B=L=0,d.mode=3;case 3:for(;B<32;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}d.head&&(d.head.time=L),512&d.flags&&(T[0]=255&L,T[1]=L>>>8&255,T[2]=L>>>16&255,T[3]=L>>>24&255,d.check=t(d.check,T,4,0)),B=L=0,d.mode=4;case 4:for(;B<16;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}d.head&&(d.head.xflags=255&L,d.head.os=L>>8),512&d.flags&&(T[0]=255&L,T[1]=L>>>8&255,d.check=t(d.check,T,2,0)),B=L=0,d.mode=5;case 5:if(1024&d.flags){for(;B<16;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}d.length=L,d.head&&(d.head.extra_len=L),512&d.flags&&(T[0]=255&L,T[1]=L>>>8&255,d.check=t(d.check,T,2,0)),B=L=0}else d.head&&(d.head.extra=null);d.mode=6;case 6:if(1024&d.flags&&(G<(P=d.length)&&(P=G),P&&(d.head&&(n=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Array(d.head.extra_len)),s.arraySet(d.head.extra,M,R,P,n)),512&d.flags&&(d.check=t(d.check,M,P,R)),G-=P,R+=P,d.length-=P),d.length))break e;d.length=0,d.mode=7;case 7:if(2048&d.flags){if(G===0)break e;for(P=0;n=M[R+P++],d.head&&n&&d.length<65536&&(d.head.name+=String.fromCharCode(n)),n&&P<G;);if(512&d.flags&&(d.check=t(d.check,M,P,R)),G-=P,R+=P,n)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=8;case 8:if(4096&d.flags){if(G===0)break e;for(P=0;n=M[R+P++],d.head&&n&&d.length<65536&&(d.head.comment+=String.fromCharCode(n)),n&&P<G;);if(512&d.flags&&(d.check=t(d.check,M,P,R)),G-=P,R+=P,n)break e}else d.head&&(d.head.comment=null);d.mode=9;case 9:if(512&d.flags){for(;B<16;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if(L!==(65535&d.check)){b.msg="header crc mismatch",d.mode=30;break}B=L=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),b.adler=d.check=0,d.mode=12;break;case 10:for(;B<32;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}b.adler=d.check=f(L),B=L=0,d.mode=11;case 11:if(d.havedict===0)return b.next_out=te,b.avail_out=ie,b.next_in=R,b.avail_in=G,d.hold=L,d.bits=B,2;b.adler=d.check=1,d.mode=12;case 12:if(z===5||z===6)break e;case 13:if(d.last){L>>>=7&B,B-=7&B,d.mode=27;break}for(;B<3;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}switch(d.last=1&L,B-=1,3&(L>>>=1)){case 0:d.mode=14;break;case 1:if(N(d),d.mode=20,z!==6)break;L>>>=2,B-=2;break e;case 2:d.mode=17;break;case 3:b.msg="invalid block type",d.mode=30}L>>>=2,B-=2;break;case 14:for(L>>>=7&B,B-=7&B;B<32;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if((65535&L)!=(L>>>16^65535)){b.msg="invalid stored block lengths",d.mode=30;break}if(d.length=65535&L,B=L=0,d.mode=15,z===6)break e;case 15:d.mode=16;case 16:if(P=d.length){if(G<P&&(P=G),ie<P&&(P=ie),P===0)break e;s.arraySet(Y,M,R,P,te),G-=P,R+=P,ie-=P,te+=P,d.length-=P;break}d.mode=12;break;case 17:for(;B<14;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if(d.nlen=257+(31&L),L>>>=5,B-=5,d.ndist=1+(31&L),L>>>=5,B-=5,d.ncode=4+(15&L),L>>>=4,B-=4,286<d.nlen||30<d.ndist){b.msg="too many length or distance symbols",d.mode=30;break}d.have=0,d.mode=18;case 18:for(;d.have<d.ncode;){for(;B<3;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}d.lens[H[d.have++]]=7&L,L>>>=3,B-=3}for(;d.have<19;)d.lens[H[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,U={bits:d.lenbits},Z=p(0,d.lens,0,19,d.lencode,0,d.work,U),d.lenbits=U.bits,Z){b.msg="invalid code lengths set",d.mode=30;break}d.have=0,d.mode=19;case 19:for(;d.have<d.nlen+d.ndist;){for(;ae=(k=d.lencode[L&(1<<d.lenbits)-1])>>>16&255,pe=65535&k,!((ne=k>>>24)<=B);){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if(pe<16)L>>>=ne,B-=ne,d.lens[d.have++]=pe;else{if(pe===16){for(E=ne+2;B<E;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if(L>>>=ne,B-=ne,d.have===0){b.msg="invalid bit length repeat",d.mode=30;break}n=d.lens[d.have-1],P=3+(3&L),L>>>=2,B-=2}else if(pe===17){for(E=ne+3;B<E;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}B-=ne,n=0,P=3+(7&(L>>>=ne)),L>>>=3,B-=3}else{for(E=ne+7;B<E;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}B-=ne,n=0,P=11+(127&(L>>>=ne)),L>>>=7,B-=7}if(d.have+P>d.nlen+d.ndist){b.msg="invalid bit length repeat",d.mode=30;break}for(;P--;)d.lens[d.have++]=n}}if(d.mode===30)break;if(d.lens[256]===0){b.msg="invalid code -- missing end-of-block",d.mode=30;break}if(d.lenbits=9,U={bits:d.lenbits},Z=p(a,d.lens,0,d.nlen,d.lencode,0,d.work,U),d.lenbits=U.bits,Z){b.msg="invalid literal/lengths set",d.mode=30;break}if(d.distbits=6,d.distcode=d.distdyn,U={bits:d.distbits},Z=p(g,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,U),d.distbits=U.bits,Z){b.msg="invalid distances set",d.mode=30;break}if(d.mode=20,z===6)break e;case 20:d.mode=21;case 21:if(6<=G&&258<=ie){b.next_out=te,b.avail_out=ie,b.next_in=R,b.avail_in=G,d.hold=L,d.bits=B,c(b,D),te=b.next_out,Y=b.output,ie=b.avail_out,R=b.next_in,M=b.input,G=b.avail_in,L=d.hold,B=d.bits,d.mode===12&&(d.back=-1);break}for(d.back=0;ae=(k=d.lencode[L&(1<<d.lenbits)-1])>>>16&255,pe=65535&k,!((ne=k>>>24)<=B);){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if(ae&&(240&ae)==0){for(he=ne,_e=ae,be=pe;ae=(k=d.lencode[be+((L&(1<<he+_e)-1)>>he)])>>>16&255,pe=65535&k,!(he+(ne=k>>>24)<=B);){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}L>>>=he,B-=he,d.back+=he}if(L>>>=ne,B-=ne,d.back+=ne,d.length=pe,ae===0){d.mode=26;break}if(32&ae){d.back=-1,d.mode=12;break}if(64&ae){b.msg="invalid literal/length code",d.mode=30;break}d.extra=15&ae,d.mode=22;case 22:if(d.extra){for(E=d.extra;B<E;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}d.length+=L&(1<<d.extra)-1,L>>>=d.extra,B-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=23;case 23:for(;ae=(k=d.distcode[L&(1<<d.distbits)-1])>>>16&255,pe=65535&k,!((ne=k>>>24)<=B);){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if((240&ae)==0){for(he=ne,_e=ae,be=pe;ae=(k=d.distcode[be+((L&(1<<he+_e)-1)>>he)])>>>16&255,pe=65535&k,!(he+(ne=k>>>24)<=B);){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}L>>>=he,B-=he,d.back+=he}if(L>>>=ne,B-=ne,d.back+=ne,64&ae){b.msg="invalid distance code",d.mode=30;break}d.offset=pe,d.extra=15&ae,d.mode=24;case 24:if(d.extra){for(E=d.extra;B<E;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}d.offset+=L&(1<<d.extra)-1,L>>>=d.extra,B-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){b.msg="invalid distance too far back",d.mode=30;break}d.mode=25;case 25:if(ie===0)break e;if(P=D-ie,d.offset>P){if((P=d.offset-P)>d.whave&&d.sane){b.msg="invalid distance too far back",d.mode=30;break}Q=P>d.wnext?(P-=d.wnext,d.wsize-P):d.wnext-P,P>d.length&&(P=d.length),re=d.window}else re=Y,Q=te-d.offset,P=d.length;for(ie<P&&(P=ie),ie-=P,d.length-=P;Y[te++]=re[Q++],--P;);d.length===0&&(d.mode=21);break;case 26:if(ie===0)break e;Y[te++]=d.length,ie--,d.mode=21;break;case 27:if(d.wrap){for(;B<32;){if(G===0)break e;G--,L|=M[R++]<<B,B+=8}if(D-=ie,b.total_out+=D,d.total+=D,D&&(b.adler=d.check=d.flags?t(d.check,Y,D,te-D):r(d.check,Y,D,te-D)),D=ie,(d.flags?L:f(L))!==d.check){b.msg="incorrect data check",d.mode=30;break}B=L=0}d.mode=28;case 28:if(d.wrap&&d.flags){for(;B<32;){if(G===0)break e;G--,L+=M[R++]<<B,B+=8}if(L!==(4294967295&d.total)){b.msg="incorrect length check",d.mode=30;break}B=L=0}d.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return h}return b.next_out=te,b.avail_out=ie,b.next_in=R,b.avail_in=G,d.hold=L,d.bits=B,(d.wsize||D!==b.avail_out&&d.mode<30&&(d.mode<27||z!==4))&&$(b,b.output,b.next_out,D-b.avail_out)?(d.mode=31,-4):(ee-=b.avail_in,D-=b.avail_out,b.total_in+=ee,b.total_out+=D,d.total+=D,d.wrap&&D&&(b.adler=d.check=d.flags?t(d.check,Y,D,b.next_out-D):r(d.check,Y,D,b.next_out-D)),b.data_type=d.bits+(d.last?64:0)+(d.mode===12?128:0)+(d.mode===20||d.mode===15?256:0),(ee==0&&D===0||z===4)&&Z===y&&(Z=-5),Z)},l.inflateEnd=function(b){if(!b||!b.state)return h;var z=b.state;return z.window&&(z.window=null),b.state=null,y},l.inflateGetHeader=function(b,z){var d;return b&&b.state?(2&(d=b.state).wrap)==0?h:((d.head=z).done=!1,y):h},l.inflateSetDictionary=function(b,z){var d,M=z.length;return b&&b.state?(d=b.state).wrap!==0&&d.mode!==11?h:d.mode===11&&r(1,z,M,0)!==d.check?-3:$(b,z,M,M)?(d.mode=31,-4):(d.havedict=1,y):h},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,m,l){var s=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(a,g,y,h,v,u,_,f){var w,x,S,C,j,A,O,I,N,$=f.bits,b=0,z=0,d=0,M=0,Y=0,R=0,te=0,G=0,ie=0,L=0,B=null,ee=0,D=new s.Buf16(16),P=new s.Buf16(16),Q=null,re=0;for(b=0;b<=15;b++)D[b]=0;for(z=0;z<h;z++)D[g[y+z]]++;for(Y=$,M=15;1<=M&&D[M]===0;M--);if(M<Y&&(Y=M),M===0)return v[u++]=20971520,v[u++]=20971520,f.bits=1,0;for(d=1;d<M&&D[d]===0;d++);for(Y<d&&(Y=d),b=G=1;b<=15;b++)if(G<<=1,(G-=D[b])<0)return-1;if(0<G&&(a===0||M!==1))return-1;for(P[1]=0,b=1;b<15;b++)P[b+1]=P[b]+D[b];for(z=0;z<h;z++)g[y+z]!==0&&(_[P[g[y+z]]++]=z);if(A=a===0?(B=Q=_,19):a===1?(B=r,ee-=257,Q=t,re-=257,256):(B=c,Q=p,-1),b=d,j=u,te=z=L=0,S=-1,C=(ie=1<<(R=Y))-1,a===1&&852<ie||a===2&&592<ie)return 1;for(;;){for(O=b-te,N=_[z]<A?(I=0,_[z]):_[z]>A?(I=Q[re+_[z]],B[ee+_[z]]):(I=96,0),w=1<<b-te,d=x=1<<R;v[j+(L>>te)+(x-=w)]=O<<24|I<<16|N|0,x!==0;);for(w=1<<b-1;L&w;)w>>=1;if(w!==0?(L&=w-1,L+=w):L=0,z++,--D[b]==0){if(b===M)break;b=g[y+_[z]]}if(Y<b&&(L&C)!==S){for(te===0&&(te=Y),j+=d,G=1<<(R=b-te);R+te<M&&!((G-=D[R+te])<=0);)R++,G<<=1;if(ie+=1<<R,a===1&&852<ie||a===2&&592<ie)return 1;v[S=L&C]=Y<<24|R<<16|j-u|0}}return L!==0&&(v[j+L]=b-te<<24|64<<16|0),f.bits=Y,0}},{"../utils/common":41}],51:[function(e,m,l){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,m,l){var s=e("../utils/common"),r=0,t=1;function c(k){for(var T=k.length;0<=--T;)k[T]=0}var p=0,a=29,g=256,y=g+1+a,h=30,v=19,u=2*y+1,_=15,f=16,w=7,x=256,S=16,C=17,j=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(y+2));c($);var b=new Array(2*h);c(b);var z=new Array(512);c(z);var d=new Array(256);c(d);var M=new Array(a);c(M);var Y,R,te,G=new Array(h);function ie(k,T,H,V,F){this.static_tree=k,this.extra_bits=T,this.extra_base=H,this.elems=V,this.max_length=F,this.has_stree=k&&k.length}function L(k,T){this.dyn_tree=k,this.max_code=0,this.stat_desc=T}function B(k){return k<256?z[k]:z[256+(k>>>7)]}function ee(k,T){k.pending_buf[k.pending++]=255&T,k.pending_buf[k.pending++]=T>>>8&255}function D(k,T,H){k.bi_valid>f-H?(k.bi_buf|=T<<k.bi_valid&65535,ee(k,k.bi_buf),k.bi_buf=T>>f-k.bi_valid,k.bi_valid+=H-f):(k.bi_buf|=T<<k.bi_valid&65535,k.bi_valid+=H)}function P(k,T,H){D(k,H[2*T],H[2*T+1])}function Q(k,T){for(var H=0;H|=1&k,k>>>=1,H<<=1,0<--T;);return H>>>1}function re(k,T,H){var V,F,K=new Array(_+1),X=0;for(V=1;V<=_;V++)K[V]=X=X+H[V-1]<<1;for(F=0;F<=T;F++){var J=k[2*F+1];J!==0&&(k[2*F]=Q(K[J]++,J))}}function ne(k){var T;for(T=0;T<y;T++)k.dyn_ltree[2*T]=0;for(T=0;T<h;T++)k.dyn_dtree[2*T]=0;for(T=0;T<v;T++)k.bl_tree[2*T]=0;k.dyn_ltree[2*x]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ae(k){8<k.bi_valid?ee(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function pe(k,T,H,V){var F=2*T,K=2*H;return k[F]<k[K]||k[F]===k[K]&&V[T]<=V[H]}function he(k,T,H){for(var V=k.heap[H],F=H<<1;F<=k.heap_len&&(F<k.heap_len&&pe(T,k.heap[F+1],k.heap[F],k.depth)&&F++,!pe(T,V,k.heap[F],k.depth));)k.heap[H]=k.heap[F],H=F,F<<=1;k.heap[H]=V}function _e(k,T,H){var V,F,K,X,J=0;if(k.last_lit!==0)for(;V=k.pending_buf[k.d_buf+2*J]<<8|k.pending_buf[k.d_buf+2*J+1],F=k.pending_buf[k.l_buf+J],J++,V===0?P(k,F,T):(P(k,(K=d[F])+g+1,T),(X=A[K])!==0&&D(k,F-=M[K],X),P(k,K=B(--V),H),(X=O[K])!==0&&D(k,V-=G[K],X)),J<k.last_lit;);P(k,x,T)}function be(k,T){var H,V,F,K=T.dyn_tree,X=T.stat_desc.static_tree,J=T.stat_desc.has_stree,se=T.stat_desc.elems,me=-1;for(k.heap_len=0,k.heap_max=u,H=0;H<se;H++)K[2*H]!==0?(k.heap[++k.heap_len]=me=H,k.depth[H]=0):K[2*H+1]=0;for(;k.heap_len<2;)K[2*(F=k.heap[++k.heap_len]=me<2?++me:0)]=1,k.depth[F]=0,k.opt_len--,J&&(k.static_len-=X[2*F+1]);for(T.max_code=me,H=k.heap_len>>1;1<=H;H--)he(k,K,H);for(F=se;H=k.heap[1],k.heap[1]=k.heap[k.heap_len--],he(k,K,1),V=k.heap[1],k.heap[--k.heap_max]=H,k.heap[--k.heap_max]=V,K[2*F]=K[2*H]+K[2*V],k.depth[F]=(k.depth[H]>=k.depth[V]?k.depth[H]:k.depth[V])+1,K[2*H+1]=K[2*V+1]=F,k.heap[1]=F++,he(k,K,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(de,Oe){var ft,Le,pt,we,At,Kt,$e=Oe.dyn_tree,kn=Oe.max_code,Or=Oe.stat_desc.static_tree,Rr=Oe.stat_desc.has_stree,zr=Oe.stat_desc.extra_bits,En=Oe.stat_desc.extra_base,ht=Oe.stat_desc.max_length,Tt=0;for(we=0;we<=_;we++)de.bl_count[we]=0;for($e[2*de.heap[de.heap_max]+1]=0,ft=de.heap_max+1;ft<u;ft++)ht<(we=$e[2*$e[2*(Le=de.heap[ft])+1]+1]+1)&&(we=ht,Tt++),$e[2*Le+1]=we,kn<Le||(de.bl_count[we]++,At=0,En<=Le&&(At=zr[Le-En]),Kt=$e[2*Le],de.opt_len+=Kt*(we+At),Rr&&(de.static_len+=Kt*(Or[2*Le+1]+At)));if(Tt!==0){do{for(we=ht-1;de.bl_count[we]===0;)we--;de.bl_count[we]--,de.bl_count[we+1]+=2,de.bl_count[ht]--,Tt-=2}while(0<Tt);for(we=ht;we!==0;we--)for(Le=de.bl_count[we];Le!==0;)kn<(pt=de.heap[--ft])||($e[2*pt+1]!==we&&(de.opt_len+=(we-$e[2*pt+1])*$e[2*pt],$e[2*pt+1]=we),Le--)}}(k,T),re(K,me,k.bl_count)}function n(k,T,H){var V,F,K=-1,X=T[1],J=0,se=7,me=4;for(X===0&&(se=138,me=3),T[2*(H+1)+1]=65535,V=0;V<=H;V++)F=X,X=T[2*(V+1)+1],++J<se&&F===X||(J<me?k.bl_tree[2*F]+=J:F!==0?(F!==K&&k.bl_tree[2*F]++,k.bl_tree[2*S]++):J<=10?k.bl_tree[2*C]++:k.bl_tree[2*j]++,K=F,me=(J=0)===X?(se=138,3):F===X?(se=6,3):(se=7,4))}function Z(k,T,H){var V,F,K=-1,X=T[1],J=0,se=7,me=4;for(X===0&&(se=138,me=3),V=0;V<=H;V++)if(F=X,X=T[2*(V+1)+1],!(++J<se&&F===X)){if(J<me)for(;P(k,F,k.bl_tree),--J!=0;);else F!==0?(F!==K&&(P(k,F,k.bl_tree),J--),P(k,S,k.bl_tree),D(k,J-3,2)):J<=10?(P(k,C,k.bl_tree),D(k,J-3,3)):(P(k,j,k.bl_tree),D(k,J-11,7));K=F,me=(J=0)===X?(se=138,3):F===X?(se=6,3):(se=7,4)}}c(G);var U=!1;function E(k,T,H,V){D(k,(p<<1)+(V?1:0),3),function(F,K,X,J){ae(F),J&&(ee(F,X),ee(F,~X)),s.arraySet(F.pending_buf,F.window,K,X,F.pending),F.pending+=X}(k,T,H,!0)}l._tr_init=function(k){U||(function(){var T,H,V,F,K,X=new Array(_+1);for(F=V=0;F<a-1;F++)for(M[F]=V,T=0;T<1<<A[F];T++)d[V++]=F;for(d[V-1]=F,F=K=0;F<16;F++)for(G[F]=K,T=0;T<1<<O[F];T++)z[K++]=F;for(K>>=7;F<h;F++)for(G[F]=K<<7,T=0;T<1<<O[F]-7;T++)z[256+K++]=F;for(H=0;H<=_;H++)X[H]=0;for(T=0;T<=143;)$[2*T+1]=8,T++,X[8]++;for(;T<=255;)$[2*T+1]=9,T++,X[9]++;for(;T<=279;)$[2*T+1]=7,T++,X[7]++;for(;T<=287;)$[2*T+1]=8,T++,X[8]++;for(re($,y+1,X),T=0;T<h;T++)b[2*T+1]=5,b[2*T]=Q(T,5);Y=new ie($,A,g+1,y,_),R=new ie(b,O,0,h,_),te=new ie(new Array(0),I,0,v,w)}(),U=!0),k.l_desc=new L(k.dyn_ltree,Y),k.d_desc=new L(k.dyn_dtree,R),k.bl_desc=new L(k.bl_tree,te),k.bi_buf=0,k.bi_valid=0,ne(k)},l._tr_stored_block=E,l._tr_flush_block=function(k,T,H,V){var F,K,X=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(J){var se,me=4093624447;for(se=0;se<=31;se++,me>>>=1)if(1&me&&J.dyn_ltree[2*se]!==0)return r;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return t;for(se=32;se<g;se++)if(J.dyn_ltree[2*se]!==0)return t;return r}(k)),be(k,k.l_desc),be(k,k.d_desc),X=function(J){var se;for(n(J,J.dyn_ltree,J.l_desc.max_code),n(J,J.dyn_dtree,J.d_desc.max_code),be(J,J.bl_desc),se=v-1;3<=se&&J.bl_tree[2*N[se]+1]===0;se--);return J.opt_len+=3*(se+1)+5+5+4,se}(k),F=k.opt_len+3+7>>>3,(K=k.static_len+3+7>>>3)<=F&&(F=K)):F=K=H+5,H+4<=F&&T!==-1?E(k,T,H,V):k.strategy===4||K===F?(D(k,2+(V?1:0),3),_e(k,$,b)):(D(k,4+(V?1:0),3),function(J,se,me,de){var Oe;for(D(J,se-257,5),D(J,me-1,5),D(J,de-4,4),Oe=0;Oe<de;Oe++)D(J,J.bl_tree[2*N[Oe]+1],3);Z(J,J.dyn_ltree,se-1),Z(J,J.dyn_dtree,me-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,X+1),_e(k,k.dyn_ltree,k.dyn_dtree)),ne(k),V&&ae(k)},l._tr_tally=function(k,T,H){return k.pending_buf[k.d_buf+2*k.last_lit]=T>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&T,k.pending_buf[k.l_buf+k.last_lit]=255&H,k.last_lit++,T===0?k.dyn_ltree[2*H]++:(k.matches++,T--,k.dyn_ltree[2*(d[H]+g+1)]++,k.dyn_dtree[2*B(T)]++),k.last_lit===k.lit_bufsize-1},l._tr_align=function(k){D(k,2,3),P(k,x,$),function(T){T.bi_valid===16?(ee(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(e,m,l){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,m,l){(function(s){(function(r,t){if(!r.setImmediate){var c,p,a,g,y=1,h={},v=!1,u=r.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(r);_=_&&_.setTimeout?_:r,c={}.toString.call(r.process)==="[object process]"?function(S){Xr.nextTick(function(){w(S)})}:function(){if(r.postMessage&&!r.importScripts){var S=!0,C=r.onmessage;return r.onmessage=function(){S=!1},r.postMessage("","*"),r.onmessage=C,S}}()?(g="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",x,!1):r.attachEvent("onmessage",x),function(S){r.postMessage(g+S,"*")}):r.MessageChannel?((a=new MessageChannel).port1.onmessage=function(S){w(S.data)},function(S){a.port2.postMessage(S)}):u&&"onreadystatechange"in u.createElement("script")?(p=u.documentElement,function(S){var C=u.createElement("script");C.onreadystatechange=function(){w(S),C.onreadystatechange=null,p.removeChild(C),C=null},p.appendChild(C)}):function(S){setTimeout(w,0,S)},_.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var C=new Array(arguments.length-1),j=0;j<C.length;j++)C[j]=arguments[j+1];var A={callback:S,args:C};return h[y]=A,c(y),y++},_.clearImmediate=f}function f(S){delete h[S]}function w(S){if(v)setTimeout(w,0,S);else{var C=h[S];if(C){v=!0;try{(function(j){var A=j.callback,O=j.args;switch(O.length){case 0:A();break;case 1:A(O[0]);break;case 2:A(O[0],O[1]);break;case 3:A(O[0],O[1],O[2]);break;default:A.apply(t,O)}})(C)}finally{f(S),v=!1}}}}function x(S){S.source===r&&typeof S.data=="string"&&S.data.indexOf(g)===0&&w(+S.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof He<"u"?He:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ar);const Gs=Ar.exports;var wn={exports:{}};(function(o,i){(function(e,m){m()})(He,function(){function e(p,a){return typeof a>"u"?a={autoBom:!1}:typeof a!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\uFEFF",p],{type:p.type}):p}function m(p,a,g){var y=new XMLHttpRequest;y.open("GET",p),y.responseType="blob",y.onload=function(){c(y.response,a,g)},y.onerror=function(){console.error("could not download file")},y.send()}function l(p){var a=new XMLHttpRequest;a.open("HEAD",p,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function s(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(a)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof He=="object"&&He.global===He?He:void 0,t=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!t?function(p,a,g){var y=r.URL||r.webkitURL,h=document.createElement("a");a=a||p.name||"download",h.download=a,h.rel="noopener",typeof p=="string"?(h.href=p,h.origin===location.origin?s(h):l(h.href)?m(p,a,g):s(h,h.target="_blank")):(h.href=y.createObjectURL(p),setTimeout(function(){y.revokeObjectURL(h.href)},4e4),setTimeout(function(){s(h)},0))}:"msSaveOrOpenBlob"in navigator?function(p,a,g){if(a=a||p.name||"download",typeof p!="string")navigator.msSaveOrOpenBlob(e(p,g),a);else if(l(p))m(p,a,g);else{var y=document.createElement("a");y.href=p,y.target="_blank",setTimeout(function(){s(y)})}}:function(p,a,g,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof p=="string")return m(p,a,g);var h=p.type==="application/octet-stream",v=/constructor/i.test(r.HTMLElement)||r.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||h&&v||t)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var x=_.result;x=u?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=x:location=x,y=null},_.readAsDataURL(p)}else{var f=r.URL||r.webkitURL,w=f.createObjectURL(p);y?y.location=w:location.href=w,y=null,setTimeout(function(){f.revokeObjectURL(w)},4e4)}});r.saveAs=c.saveAs=c,o.exports=c})})(wn);const Vs={class:"flex start"},Ks={class:"info grow"},qs={class:"item"},Js={class:"label"},Ys={class:"value"},Xs={class:"item"},Qs={class:"label"},ea={class:"value"},ta={class:"item info-group"},na={class:"label"},ra={class:"value"},oa={class:"item info-tag"},ia={class:"label"},sa={class:"tags flex start"},aa=["onClick"],la={key:0,class:"tag flex"},ua=ke({__name:"Detail",props:{projectId:{},projectType:{},info:{},top:{},left:{},isShow:{type:Boolean},groups:{},icons:{}},emits:["update","addGroup"],setup(o,{expose:i,emit:e}){Kr($=>({dfc241d0:v.value,"73b93aa4":u.value,d7f3e7ca:h.value}));const{t:m}=Et(),l=o,s=e,r=le(!1),t=le(document.body),c=le(document.createElement("input")),p=le(document.createElement("input")),a=le(document.createElement("input")),g=Xn({name:"",code:"",groupId:"",tag:""}),y=le(!1),h=ue(()=>l.isShow?1:0),v=ue(()=>r.value?l.top:"-50rem"),u=ue(()=>r.value?l.left:"-50rem"),_=ue(()=>[{label:m("ungrouped"),value:""},...l.groups.map($=>({label:$.name,value:$._id}))]),f=ue(()=>l.projectType===We.IMG?"image/*":"image/svg+xml");i({root:t}),xn(()=>{g.name=l.info.name,g.code=l.info.code,g.groupId=l.info.groupId||"",g.tag="",y.value=!1}),xn(()=>{l.isShow?r.value=!0:setTimeout(()=>{l.isShow||(r.value=!1)},100)});function w($){({name:c.value,code:p.value})[$].focus()}function x(){y.value=!y.value,y.value&&Ut(()=>{a.value.focus()})}async function S(){!g.tag||(await io(l.projectId,l.info._id,g.tag),Se.success(m("saveDone")),l.info.tags.push(g.tag),g.tag="",y.value=!1)}async function C($,b){await so(l.projectId,l.info._id,b),Se.success(m("deleteDone")),l.info.tags.splice($,1)}async function j($){const b={_id:l.info._id};if($==="code"&&l.icons.some(z=>z.code===g.code))return Se(m("codeExists"));b[$]=g[$],await In(l.projectId,l.info._id,b),Se(m("saveDone")),s("update",b)}async function A($){const b={_id:"",name:$,num:0,icons:[]},z=await Qn(l.projectId,b);b._id=z._id,Se(m("saveDone")),s("addGroup",b)}async function O(){var b;if(typeof((b=l.info.analyse)==null?void 0:b.pageCount)=="number")return;const $=l.info._id;er.getIconPages(l.projectId,$).onUpdate(async z=>{$===l.info._id&&(l.info.analyse={pageCount:z.pages.length})})}let I;ge(()=>l.info._id,()=>{I&&clearTimeout(I),I=setTimeout(()=>{O()},200)});async function N($){if(!$.raw){Se(m("pleaseSelectFile"));return}if(!$.size||$.size>Qr){Se(m("fileSizeLimitExceeded"));return}if(l.projectType===We.SVG&&!mo($.raw)||l.projectType===We.IMG&&!vo($.raw))return;const b=l.info._id,z=l.projectId,d=l.projectType,M=Ht(l.info)||"";let Y=M;if(d===We.SVG){const G=await eo($.raw),L=`${gt.exports.SHA256(G).toString()}.svg`;if(new RegExp(`${L}$`).test(M)){Se(m("fileIsSameAsOld"));return}const B=await en({projectId:z,_id:L,data:G,dir:Sn.ICON}).catch(ee=>{console.error(ee),Se.error(m("fileUploadFailed"))});if(!B||!B.url)return;Y=B.url}else if(d===We.IMG){const G=await to($.raw),ie=await G.arrayBuffer(),B=`${gt.exports.SHA256(gt.exports.lib.WordArray.create(Array.from(new Uint8Array(ie)))).toString()}.${$.name.substring($.name.lastIndexOf(".")+1)}`,ee=await en({projectId:z,_id:B,data:G,dir:Sn.ICON}).catch(D=>{console.error(D),Se.error(m("fileUploadFailed"))});if(!ee||!ee.url)return;Y=ee.url}else{Se.error(m("notSupported"));return}const R=on[d],te={_id:b,[R]:{url:Y}};await In(z,b,{[R]:te[R]}),Se(m("saveDone")),s("update",te)}return($,b)=>{var M,Y;const z=Xt("RouterLink"),d=Xt("router-link");return oe(),ce("div",{ref_key:"root",ref:t,class:"detail"},[Ee(z,{to:`/icons/${$.projectId}/protect/${$.info._id}`,class:Ne(["copyright",((M=$.info.blockchain)==null?void 0:M.classId)&&((Y=$.info.blockchain)==null?void 0:Y.nftId)?"protected":""]),title:W(m)("ownershipProtection")},{default:Ce(()=>b[9]||(b[9]=[q("i",{class:"iconfont icon-protect"},null,-1)])),_:1,__:[9]},8,["to","class","title"]),q("div",Vs,[q("div",null,[Ee(W(ho),{"show-file-list":!1,"auto-upload":!1,accept:f.value,class:"upload-input",onChange:N},{default:Ce(()=>[Ee(bt,{info:$.info,compress:{maxWidth:600,maxHeight:600}},null,8,["info"]),b[10]||(b[10]=q("div",{class:"mask flex center"},[q("i",{class:"iconfont icon-edit"})],-1))]),_:1,__:[10]},8,["accept"]),$.projectType===W(We).SVG?(oe(),xe(d,{key:0,to:`/analyse/icon/${$.projectId}/${$.info._id}`,class:"count-use c-main"},{default:Ce(()=>{var R;return[Qt(fe(W(m)("pageReferer"))+fe(typeof((R=$.info.analyse)==null?void 0:R.pageCount)=="number"?` ${$.info.analyse.pageCount}`:""),1)]}),_:1},8,["to"])):ve("",!0),$.projectType===W(We).IMG?(oe(),xe(d,{key:1,to:`/icons/${$.projectId}/appreciate/${$.info._id}`,class:"appreciate c-main"},{default:Ce(()=>[b[11]||(b[11]=q("i",{class:"iconfont icon-ai"},null,-1)),q("span",null,fe(W(m)("appreciate")),1)]),_:1,__:[11]},8,["to"])):ve("",!0)]),q("div",Ks,[q("div",qs,[q("div",Js,fe(W(m)("name")),1),q("div",Ys,[it(q("input",{ref_key:"nameInputDom",ref:c,"onUpdate:modelValue":b[0]||(b[0]=R=>g.name=R),type:"text",onChange:b[1]||(b[1]=R=>j("name"))},null,544),[[Lt,g.name]]),q("i",{class:"iconfont icon-edit pointer",onClick:b[2]||(b[2]=R=>w("name"))})])]),q("div",Xs,[q("div",Qs,fe(W(m)("code")),1),q("div",ea,[it(q("input",{ref_key:"codeInputDom",ref:p,"onUpdate:modelValue":b[3]||(b[3]=R=>g.code=R),type:"text",onChange:b[4]||(b[4]=R=>j("code"))},null,544),[[Lt,g.code]]),q("i",{class:"iconfont icon-edit pointer",onClick:b[5]||(b[5]=R=>w("code"))})])]),q("div",ta,[q("div",na,fe(W(m)("group")),1),q("div",ra,[Ee(Mt,{modelValue:g.groupId,"onUpdate:modelValue":b[6]||(b[6]=R=>g.groupId=R),options:_.value,addable:!0,placeholder:W(m)("ungrouped"),onChange:b[7]||(b[7]=R=>j("groupId")),onAdd:A},null,8,["modelValue","options","placeholder"])])]),q("div",oa,[q("div",ia,fe(W(m)("tag")),1),b[12]||(b[12]=q("div",{class:"value"},null,-1)),q("i",{class:Ne(["iconfont icon-add-circle pointer",{"icon-add-circle":!y.value,"icon-remove-circle":y.value}]),onClick:x},null,2)]),q("div",sa,[(oe(!0),ce(Ie,null,qe($.info.tags,(R,te)=>(oe(),ce("div",{key:R,class:"tag flex"},[q("span",null,fe(R),1),q("i",{class:"iconfont icon-delete-fill pointer tag-del",onClick:G=>C(te,R)},null,8,aa)]))),128)),y.value?(oe(),ce("div",la,[it(q("input",{ref_key:"tagInputDom",ref:a,"onUpdate:modelValue":b[8]||(b[8]=R=>g.tag=R),type:"text",maxlength:"8"},null,512),[[Lt,g.tag]]),q("i",{class:Ne(["iconfont icon-checked pointer tag-add",{active:g.tag}]),onClick:S},null,2)])):ve("",!0)])])])],512)}}});const ca=xt(ua,[["__scopeId","data-v-7dc14b1b"]]);const da={class:"help"},fa={key:1,class:"iconfont icon-download"},pa=ke({__name:"Collect",props:{icon:{},projectId:{},projectType:{}},setup(o){const{t:i}=Et(),e=le(!1),m=o;async function l(r=!1){if(e.value)return;const t=m.icon.imgs?m.icon.imgs.map(c=>c.url):[Ht(m.icon)];for(const c of t)if(!!c){e.value=!0;try{const p=await fetch(c).then(v=>v.blob()),a=await p.arrayBuffer(),y=`${gt.exports.SHA256(gt.exports.lib.WordArray.create(Array.from(new Uint8Array(a)))).toString()}.${go(p.type)}`;if(r){wn.exports.saveAs(p,y),e.value=!1;continue}const h=await en({projectId:m.projectId,_id:y,data:p});await ao(m.projectId,[{name:m.icon.name,code:m.icon.code,[on[m.projectType]]:{url:h.url}}]),Se.success(i("saveDone")),ot.emit(ot.EventType.IconCollected,{id:m.projectId})}catch(p){console.error(p),Se.error(i("fail"))}}e.value=!1}function s(r){r.key==="ArrowDown"?(r.preventDefault(),l(!0)):r.key==="ArrowUp"&&(r.preventDefault(),l(!1))}return Fe(()=>{document.addEventListener("keydown",s)}),De(()=>{document.removeEventListener("keydown",s)}),(r,t)=>(oe(),ce("div",{class:"collect flex",onClick:t[0]||(t[0]=c=>l())},[q("p",da,fe(W(i)("saveToProject")),1),e.value?(oe(),xe(an,{key:0})):(oe(),ce("i",fa))]))}});const ha=xt(pa,[["__scopeId","data-v-836af278"]]),ma={class:"name"},va={class:"code"},ga=["href"],_a={key:1},ya={class:"btns flex center"},ba={class:"btn-name"},wa={class:"btn-name"},ka={class:"btn-name"},Ea=ke({__name:"Review",props:{icon:{},projectId:{},projectType:{},onClose:{type:Function},onPrev:{type:Function},onNext:{type:Function},collectable:{type:Boolean}},setup(o){const{t:i}=Et(),e=o,m=le(!0);ge(()=>e.icon,()=>{m.value=!1,setTimeout(()=>{m.value=!0})});function l(r){return/^https?:\/\//i.test(r)}const s=r=>{r.key==="Escape"?e.onClose():r.key==="ArrowLeft"?e.onPrev():r.key==="ArrowRight"&&e.onNext()};return Fe(()=>{document.addEventListener("keydown",s)}),De(()=>{document.removeEventListener("keydown",s)}),(r,t)=>{var c;return oe(),ce(Ie,null,[q("div",{class:"review flex center column",onClick:t[3]||(t[3]=qr((...p)=>r.onClose&&r.onClose(...p),["self"]))},[m.value?(oe(),ce(Ie,{key:0},[(c=r.icon.imgs)!=null&&c.length?(oe(!0),ce(Ie,{key:0},qe(r.icon.imgs,(p,a)=>(oe(),xe(bt,{key:a,info:{...r.icon,img:p}},null,8,["info"]))),128)):W(Ht)(r.icon)?(oe(),xe(bt,{key:1,info:r.icon},null,8,["info"])):ve("",!0)],64)):ve("",!0),q("div",ma,fe(r.icon.name),1),q("div",va,[l(r.icon.code)?(oe(),ce("a",{key:0,target:"_blank",href:r.icon.code},fe(r.icon.code),9,ga)):(oe(),ce("span",_a,fe(r.icon.code),1))]),q("div",ya,[q("div",{class:"btn-prev",onClick:t[0]||(t[0]=(...p)=>r.onPrev&&r.onPrev(...p))},[t[4]||(t[4]=q("p",{class:"iconfont icon-back"},null,-1)),q("p",ba,fe(W(i)("previousBtn")),1)]),q("div",{class:"btn-close",onClick:t[1]||(t[1]=(...p)=>r.onClose&&r.onClose(...p))},[t[5]||(t[5]=q("p",{class:"iconfont icon-close"},null,-1)),q("p",wa,fe(W(i)("closeBtn")),1)]),q("div",{class:"btn-next",onClick:t[2]||(t[2]=(...p)=>r.onNext&&r.onNext(...p))},[t[6]||(t[6]=q("p",{class:"iconfont icon-back rotate"},null,-1)),q("p",ka,fe(W(i)("nextBtn")),1)])])]),r.collectable?(oe(),xe(ha,{key:0,icon:r.icon,"project-id":r.projectId,"project-type":r.projectType},null,8,["icon","project-id","project-type"])):ve("",!0)],64)}}});const Tr=xt(Ea,[["__scopeId","data-v-26ddb85a"]]),xa="iconlake:",nn=xa+"project-default-search-site";function Sa(o,i){const e=JSON.parse(localStorage.getItem(nn)||"{}");e[o]=i,localStorage.setItem(nn,JSON.stringify(e))}function Ca(o){return JSON.parse(localStorage.getItem(nn)||"{}")[o]}const Yn={setProjectDefaultSearchSite:Sa,getProjectDefaultSearchSite:Ca},Ia={class:"search list"},Aa={class:"group"},Ta={class:"group-header"},Oa={class:"group-title flex"},Ra=["href"],za={class:"sites flex center"},Ba=["onClick"],Pa={key:0,class:"options flex end"},Fa={key:0},Da={class:"icons"},ja=["onClick"],La={key:1,class:"searching flex center"},Na={key:1,class:"flex start guide"},Ua=ke({__name:"Web",props:{keywords:{},projectId:{},projectType:{}},setup(o){const i=o,e=le([]),m=le(!1),l=le(1),s=le(!1),r=le(-1),t=le(""),c=le([]),p=le(!1),a=le(""),g=le({_id:"",code:"",name:"",tags:[],groupId:""}),y=le([]),{t:h}=Et(),v=async()=>{const O=await Bt.option({site:t.value}).catch(I=>(console.error(I),{options:[],error:I.toString()}));y.value=O.error?[]:O.options},u=O=>{const I=O.children.find(N=>N.value===O.value);return I&&I.options?I.options:[]};ge(()=>i.projectType,O=>{let I=Yn.getProjectDefaultSearchSite(i.projectId);Rt.find(N=>N.code===I)===void 0&&(I=void 0),t.value=I||(O===We.SVG?"iconfont":"huaban")}),ge(()=>t.value,O=>{y.value=[],Yn.setProjectDefaultSearchSite(i.projectId,O),v(),A()}),ge(()=>r.value,async()=>{var $;let O=r.value;O<0?O=0:O>=e.value.length?O=e.value.length-1:O===e.value.length-1&&j();const I=JSON.parse(JSON.stringify(e.value[O]));($=I.img)!=null&&$.originalUrl&&(I.img.url=I.img.originalUrl),g.value=I;const N=await Bt.detail({site:t.value,url:e.value[O].code}).catch(b=>(console.error(b),{imgs:[],html:"",error:b.toString()}));if(!N.error){g.value.img={url:""};const b=JSON.parse(JSON.stringify(e.value[O]));b.imgs=N.imgs,b.html=N.html,g.value=b}});const _=ue(()=>Rt.find(I=>I.code===t.value)),f=ue(()=>{var O,I;return a.value?a.value==="Unauthorized"?h("searchErrorUnauthorized",{name:(O=_.value)==null?void 0:O.name}):h("searchErrorGuide",{name:(I=_.value)==null?void 0:I.name}):`${h("more")}...`});let w;ge(()=>i.keywords,()=>{w&&clearTimeout(w),w=setTimeout(()=>{A()},500)});function x(O){s.value=!0,r.value=O}async function S(O){m.value=!0,O.page===1&&(e.value=[]);const I=await Bt.search(O).catch(N=>(console.error(N),m.value=!1,a.value=N.toString(),{list:[],error:N.toString()}));e.value=e.value.concat(I.list),m.value=!1,a.value=I.error}async function C(){const O={};y.value.length&&y.value.forEach(I=>{if(I.value){O[I.name]=I.value;const N=I.children.find($=>$.value===I.value);N&&N.options&&N.options.forEach($=>{O[$.name]=$.value})}}),S({site:t.value,keywords:i.keywords,page:l.value,extra:O})}async function j(){a.value||l.value++,C()}async function A(){l.value=1,C()}return Fe(async()=>{var I;const O=await Bt.getExtensionInfo();p.value=O.isReady,(I=O.search)!=null&&I.sites?c.value=Rt.filter(N=>{var $;return($=O.search)==null?void 0:$.sites.includes(N.code)}):c.value=Rt.filter(N=>N.active)}),(O,I)=>{var N,$;return oe(),ce(Ie,null,[q("div",Ia,[q("div",Aa,[q("div",Ta,[q("div",Oa,[q("div",null,[Qt(fe(W(h)("workFrom"))+" ",1),q("a",{href:(N=_.value)==null?void 0:N.url,target:"_blank"},fe(($=_.value)==null?void 0:$.name),9,Ra)]),q("div",za,[(oe(!0),ce(Ie,null,qe(c.value,b=>(oe(),ce("div",{key:b.code,class:Ne(["site-item",t.value===b.code?"active":""]),onClick:z=>t.value=b.code},fe(b.name),11,Ba))),128))])]),y.value.length>0?(oe(),ce("div",Pa,[(oe(!0),ce(Ie,null,qe(y.value,b=>(oe(),ce(Ie,{key:b.name},[Ee(Mt,{modelValue:b.value,"onUpdate:modelValue":z=>b.value=z,options:b.children,placeholder:b.label,onChange:A},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),u(b).length?(oe(!0),ce(Ie,{key:0},qe(u(b),z=>(oe(),xe(Mt,{key:z.name,modelValue:z.value,"onUpdate:modelValue":d=>z.value=d,options:z.children,placeholder:z.label,onChange:A},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]))),128)):ve("",!0)],64))),128))])):ve("",!0)]),p.value?(oe(),ce("div",Fa,[q("div",Da,[(oe(!0),ce(Ie,null,qe(e.value,(b,z)=>(oe(),ce("div",{key:b._id,class:"icon-item",onClick:d=>x(z)},[Ee(bt,{info:b,lazy:!0},null,8,["info"])],8,ja))),128))]),m.value?ve("",!0):(oe(),ce("div",{key:0,class:"flex center more",onClick:j},fe(f.value),1)),m.value?(oe(),ce("div",La,[Ee(an),Qt(" "+fe(W(h)("searching"))+"... ",1)])):ve("",!0)])):ve("",!0),p.value?ve("",!0):(oe(),ce("div",Na,[q("p",null,fe(W(h)("installExtension&gotoStore")),1),I[4]||(I[4]=q("a",{href:"https://chrome.google.com/webstore/detail/iconlake/lfjdnkcfpebmhjbeihnebpdalolhcmmb",target:"_blank"},[q("img",{src:"/imgs/chrome.svg"})],-1)),ve("",!0),I[5]||(I[5]=q("a",{href:"https://microsoftedge.microsoft.com/addons/detail/iconlake/ilkiempcnikelnciijanjlgmchleamjh",target:"_blank"},[q("img",{src:"/imgs/edge.svg"})],-1))]))])]),s.value?(oe(),xe(Tr,{key:0,icon:g.value,"project-id":O.projectId,"project-type":O.projectType,collectable:!0,onClose:I[0]||(I[0]=b=>s.value=!1),onPrev:I[1]||(I[1]=b=>r.value--),onNext:I[2]||(I[2]=b=>r.value++)},null,8,["icon","project-id","project-type"])):ve("",!0)],64)}}});const Ma=xt(Ua,[["__scopeId","data-v-95c213dd"]]),$a={class:"name"},Wa=["title"],Za=["href","title"],Ha={class:"search flex center"},Ga={class:"input"},Va=["placeholder"],Ka={class:"operate flex"},qa={key:0,class:"operate-batch"},Ja=["disabled"],Ya=["disabled"],Xa=["disabled"],Qa={key:1,class:"iconfont icon-download"},el=["onClick"],tl=["title"],nl={class:"icons"},rl=["onMouseenter","onClick"],ol={class:"name"},il={class:"code"},sl={class:"label"},al=ke({__name:"Index",setup(o){const{t:i}=Et(),e=Yr(),{userInfo:m}=bo(),{getTicket:l,passkey:s,setTicketPasskey:r}=wo(),t=Jr(),c=le(!1),p=le([-1,-1]),a=Xn({_id:t.params.id,type:0,style:{list:no.DEFAULT},name:"",icons:[],groups:[],groupMap:{},list:[],detail:{info:{},top:"-50rem",left:"-50rem",isShow:!1},isBatching:!1,selectedIcons:new Map,keywords:"",batchGroupId:"",members:[],isPublic:!1,ticket:{}}),g=le(),y=ue(()=>[{label:i("ungrouped"),value:""},...a.groups.map(D=>({label:D.name,value:D._id}))]),h=ue(()=>a.members.length===0?!1:a.members.some(D=>D.userId===m._id)),v=ue(()=>{var D;return(D=a.list[p.value[0]])==null?void 0:D.icons[p.value[1]]});function u(D){let P=-1;const Q=a.list.findIndex(re=>re.icons.some((ne,ae)=>{if(ne._id===D._id)return P=ae,!0}));c.value=!0,p.value=[Q,P]}function _(){var P;const D=p.value[1]+1;D<((P=a.list[p.value[0]])==null?void 0:P.icons.length)?p.value=[p.value[0],D]:p.value[0]+1<a.list.length&&(p.value=[p.value[0]+1,0])}function f(){const D=p.value[1]-1;D>=0?p.value=[p.value[0],D]:p.value[0]>0&&(p.value=[p.value[0]-1,a.list[p.value[0]-1].icons.length-1])}async function w(){await er.info(a._id,"type name icons groups style").onUpdate(async D=>{a.type=D.type,a.name=D.name,a.members=D.members,a.isPublic=D.isPublic,Object.assign(a.style,D.style),D.groups instanceof Array&&(a.groups=D.groups.sort((P,Q)=>Q.num-P.num),D.groups.forEach(P=>{a.groupMap[P._id]=P})),D.icons instanceof Array&&(a.icons=[...D.icons].reverse(),x(),Ut(d))})}function x(){const D=a.groups.map(Q=>(Q.icons=[],Q)),P=[];a.icons.forEach(Q=>{S(Q)&&(Q.groupId&&Q.groupId in a.groupMap?a.groupMap[Q.groupId].icons.push(Q):P.push(Q))}),P.length>0&&(D.length===0||D[0]._id?D.unshift({_id:"",name:"",num:D.length,icons:P}):D[0].icons=P),a.list=D.sort((Q,re)=>re.num-Q.num).filter(C)}function S(D){if(!a.keywords)return!0;const P=new RegExp(a.keywords,"i");return P.test(D.name)||P.test(D.code)}function C(D){return a.keywords?D.icons.length>0:!0}const j=le(),A=le(),O=le();let I=0,N;function $(D,P){if(!A.value)return;N&&clearTimeout(N);const Q=P.target.getBoundingClientRect(),re=A.value.getBoundingClientRect(),ne=Q.top-re.top+Q.height,ae=Q.left+I-re.right,pe=Q.left+(ae>0?-ae:0)-re.left;a.detail={info:D,top:`${ne}px`,left:`${pe}px`,isShow:!0}}function b(){N&&clearTimeout(N)}function z(){N=setTimeout(()=>{a.detail.isShow=!1},300)}function d(){if(!(!A.value||!j.value)&&typeof A.value.querySelector=="function"){const D=A.value.querySelector(".icon-item");if(D){const P=window.getComputedStyle(D),Q=parseFloat(P.marginRight)+parseFloat(P.marginLeft),re=D.getBoundingClientRect().width+Q;j.value.style.width=`${Math.floor((window.innerWidth-20)/re)*re}px`}}}Fe(()=>{var D;I=((D=O.value)==null?void 0:D.root.getBoundingClientRect().width)||200,w().finally(()=>{e.end()}),l({projectId:a._id},async P=>{a.ticket=P}),ot.on(ot.EventType.IconCollected,w)}),De(()=>{ot.off(ot.EventType.IconCollected,w)});function M(D,P){if(!a.isBatching){u(D);return}if(a.selectedIcons.has(D._id)){a.selectedIcons.delete(D._id);return}else a.selectedIcons.set(D._id,D);if(P.shiftKey&&a.selectedIcons.size>1){const Q=Array.from(a.selectedIcons.values()),re=Q[Q.length-2],ne=Q[Q.length-1];if(re.groupId===ne.groupId){const ae=(a.groupMap[re.groupId]||a.list[0]).icons,pe=ae.findIndex(_e=>_e._id===re._id),he=ae.findIndex(_e=>_e._id===ne._id);if(Math.abs(pe-he)>1)for(let _e=Math.min(pe,he)+1,be=Math.max(pe,he);_e<be;++_e)a.selectedIcons.set(ae[_e]._id,ae[_e])}}}function Y(D){if(!a.isBatching)return;const Q=D.icons.every(re=>a.selectedIcons.has(re._id))?"delete":"set";D.icons.forEach(re=>{a.selectedIcons[Q](re._id,re)})}async function R(){Cn(i("batchDeleteConfirm",{n:a.selectedIcons.size}),async()=>{const D=[];a.selectedIcons.forEach(P=>{D.push(P._id)}),await lo(a._id,D),a.selectedIcons.clear(),Se(i("deleteDone")),w()})}async function te(){!g.value||Cn(g.value,async()=>{const D=[];a.selectedIcons.forEach(P=>{D.push(P._id)}),await uo(a._id,D,a.batchGroupId),a.selectedIcons.clear(),Se(i("groupDone")),w()})}function G(D){!a.icons.find(Q=>Q._id===D._id)||w()}async function ie(D){const P={_id:"",name:D,num:0,icons:[]},Q=await Qn(a._id,P);P._id=Q._id,Se(i("saveDone")),L(P)}function L(D){a.groups.push(D),a.groupMap[D._id]=D,x()}const B=le(!1);async function ee(){if(B.value)return;B.value=!0;const D=new Gs;await Promise.all(Array.from(a.selectedIcons.keys()).map(async Q=>{const re=a.selectedIcons.get(Q),ne=new Headers;ne.append("Cache-Control","no-cache");const ae=Ht(re);if(!ae)return;let pe="";const he=await fetch(ae,{headers:ne}).then(_e=>{var n;const be=_e.headers.get("Content-Type");return be==="image/svg+xml"?pe=".svg":pe=`.${((n=be==null?void 0:be.split("/"))==null?void 0:n[1])||"png"}`,_e.blob()});D.file(`${re.code.replace(new RegExp(`${pe}$`,"i"),"")}${pe}`,he)}));const P=await D.generateAsync({type:"blob"});wn.exports.saveAs(P,`${a._id}_${a.name}_${Date.now()}.zip`),B.value=!1}return ge(()=>a.keywords,()=>{x()}),(D,P)=>{const Q=Xt("router-link");return oe(),ce(Ie,null,[Ee(_o,{back:"/home"},{default:Ce(()=>[q("div",$a,fe(a.name),1),Ee(W(Hs),{effect:"light",content:a.isPublic?W(i)("publicAccess"):W(i)("privateAccess"),placement:"right"},{default:Ce(()=>[q("span",{class:Ne(`iconfont icon-${a.isPublic?"visible":"private"} visibility`)},null,2)]),_:1},8,["content"]),h.value?(oe(),xe(Q,{key:0,to:`/project/${a._id}/setting`,class:"setting flex"},{default:Ce(()=>[q("i",{class:"iconfont icon-setting-plain",title:W(i)("setting")},null,8,Wa)]),_:1},8,["to"])):ve("",!0),q("a",{class:"iconfont icon-exhibition exhibition",href:`${W(ro)}/exhibition/${a._id}?ticket=${a.ticket._id}&passkey=${W(s)}`,target:"_blank",title:W(i)("exhibition"),onClick:P[0]||(P[0]=re=>W(r)({_id:a.ticket._id,passkey:W(s)}))},null,8,Za)]),_:1}),Ee(yo),q("div",{ref_key:"mainDom",ref:j,class:"main"},[q("div",Ha,[q("div",Ga,[P[7]||(P[7]=q("i",{class:"iconfont icon-search"},null,-1)),it(q("input",{"onUpdate:modelValue":P[1]||(P[1]=re=>a.keywords=re),type:"text",placeholder:W(i)("search")},null,8,Va),[[Lt,a.keywords]]),a.keywords?(oe(),ce("i",{key:0,class:"iconfont icon-close",onClick:P[2]||(P[2]=re=>a.keywords="")})):ve("",!0)])]),q("div",Ka,[h.value?(oe(),xe(Q,{key:0,to:`/icons/${a._id}/create`,class:"operate-item flex"},{default:Ce(()=>[q("span",null,fe(W(i)("createIcons")),1),P[8]||(P[8]=q("i",{class:"iconfont icon-plus"},null,-1))]),_:1,__:[8]},8,["to"])):ve("",!0),q("div",{class:"operate-item flex",onClick:P[3]||(P[3]=re=>a.isBatching=!a.isBatching)},[q("span",null,fe(W(i)(a.isBatching?"cancelManage":"manage")),1),P[9]||(P[9]=q("i",{class:"iconfont icon-batch"},null,-1))]),a.type===W(We).SVG?(oe(),xe(Q,{key:1,to:`/icons/${a._id}/use`,class:"operate-item flex"},{default:Ce(()=>[q("span",null,fe(W(i)("useCode")),1),P[10]||(P[10]=q("i",{class:"iconfont icon-code"},null,-1))]),_:1,__:[10]},8,["to"])):ve("",!0)]),a.isBatching?(oe(),ce("div",qa,[h.value?(oe(),ce("button",{key:0,class:"btn",disabled:a.selectedIcons.size===0,onClick:R},[q("span",null,fe(W(i)("delete")),1),P[11]||(P[11]=q("i",{class:"iconfont icon-delete"},null,-1))],8,Ja)):ve("",!0),h.value?(oe(),ce("button",{key:1,class:"btn",disabled:a.selectedIcons.size===0,onClick:te},[q("span",null,fe(W(i)("group")),1),P[12]||(P[12]=q("i",{class:"iconfont icon-group-open"},null,-1))],8,Ya)):ve("",!0),q("button",{class:"btn",disabled:a.selectedIcons.size===0,onClick:ee},[q("span",null,fe(W(i)("download")),1),B.value?(oe(),xe(an,{key:0})):(oe(),ce("i",Qa))],8,Xa)])):ve("",!0),q("div",{ref_key:"iconListDom",ref:A,class:Ne(`list type-${W(on)[a.type]} style-${W(oo)[a.style.list]}`)},[(oe(!0),ce(Ie,null,qe(a.list,re=>(oe(),ce("div",{key:re._id,class:"group"},[q("div",{class:Ne(["group-title flex",{pointer:a.isBatching}]),onClick:ne=>Y(re)},[q("span",null,fe(re.name),1),a.isBatching?(oe(),ce("span",{key:0,class:"iconfont icon-select-all",title:W(i)("selectAll")},null,8,tl)):ve("",!0)],10,el),q("div",nl,[(oe(!0),ce(Ie,null,qe(re.icons,ne=>(oe(),ce("div",{key:ne._id,class:Ne(["icon-item t-center",{selectable:a.isBatching,selected:a.selectedIcons.has(ne._id)}]),onMouseenter:ae=>$(ne,ae),onMouseleave:P[4]||(P[4]=ae=>z()),onClick:ae=>M(ne,ae)},[Ee(bt,{info:ne,compress:{maxWidth:600,maxHeight:600},lazy:!0},null,8,["info"]),q("div",ol,fe(ne.name),1),q("div",il,fe(ne.code),1)],42,rl))),128))])]))),128)),Ee(Ma,{keywords:a.keywords,"project-id":a._id,"project-type":a.type},null,8,["keywords","project-id","project-type"]),Ee(ca,{ref_key:"detailDom",ref:O,"project-id":a._id,"project-type":a.type,info:a.detail.info,top:a.detail.top,left:a.detail.left,"is-show":a.detail.isShow,groups:a.groups,icons:a.icons,onUpdate:G,onAddGroup:L,onMouseenter:b,onMouseleave:z},null,8,["project-id","project-type","info","top","left","is-show","groups","icons"])],2)],512),q("div",{ref_key:"batchGroupFormDom",ref:g,class:"group-select"},[q("div",sl,fe(W(i)("batchSetGroup",{n:a.selectedIcons.size})),1),Ee(Mt,{modelValue:a.batchGroupId,"onUpdate:modelValue":P[5]||(P[5]=re=>a.batchGroupId=re),options:y.value,addable:!0,placeholder:W(i)("ungrouped"),size:"default",onAdd:ie},null,8,["modelValue","options","placeholder"])],512),c.value?(oe(),xe(Tr,{key:0,icon:v.value,"project-id":a._id,"project-type":a.type,onClose:P[6]||(P[6]=re=>c.value=!1),onPrev:f,onNext:_},null,8,["icon","project-id","project-type"])):ve("",!0)],64)}}});const Cl=xt(al,[["__scopeId","data-v-3292c84a"]]);export{Cl as default};
