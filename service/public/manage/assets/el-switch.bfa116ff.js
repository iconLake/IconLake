import{n as S,e as t,Q as R,m as b,p as v,o as J,T as te,I as ie,M as P,d as Q,k as c,c as h,b as _,q as d,U as oe,l as m,w as C,V as D,f,t as K,a as ne,J as H,A as le,H as se,W,R as ce}from"./index.c3ac6b9b.js";import{d as X,c as re,f as ue,a as de,b as ve,i as T,e as z,u as pe,g as fe,h as he,j as me,k as ye,E,l as be,_ as ge,t as we,w as Se}from"./base.1da06d96.js";import{u as ke}from"./index.2e271802.js";const q=X([String,Object,Function]),F="update:modelValue",U="change",A="input",Ie=o=>["",...re].includes(o),Ve=({from:o,replacement:l,scope:r,version:a,ref:u,type:p="API"},g)=>{S(()=>t(g),i=>{},{immediate:!0})},Ce=()=>{const o=R(ue,void 0),l=R(de,void 0);return{form:o,formItem:l}},Ee=(o,{formItemContext:l,disableIdGeneration:r,disableIdManagement:a})=>{r||(r=b(!1)),a||(a=b(!1));const u=b();let p;const g=v(()=>{var i;return!!(!o.label&&l&&l.inputIds&&((i=l.inputIds)==null?void 0:i.length)<=1)});return J(()=>{p=S([te(o,"id"),r],([i,B])=>{const y=i!=null?i:B?void 0:ke().value;y!==u.value&&(l!=null&&l.removeInputId&&(u.value&&l.removeInputId(u.value),!(a!=null&&a.value)&&!B&&y&&l.addInputId(y)),u.value=y)},{immediate:!0})}),ie(()=>{p&&p(),l!=null&&l.removeInputId&&u.value&&l.removeInputId(u.value)}),{isLabeledByFormItem:g,inputId:u}},Te=ve({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Ie},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:q},inactiveIcon:{type:q},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:X(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1}}),Be={[F]:o=>T(o)||P(o)||z(o),[U]:o=>T(o)||P(o)||z(o),[A]:o=>T(o)||P(o)||z(o)},Ne=["onClick"],Pe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],_e=["aria-hidden"],De=["aria-hidden"],Ke=["aria-hidden"],O="ElSwitch",ze=Q({name:O}),Fe=Q({...ze,props:Te,emits:Be,setup(o,{expose:l,emit:r}){const a=o,u=ce(),{formItem:p}=Ce(),g=pe(),i=fe("switch");(e=>{e.forEach(n=>{Ve({from:n[0],replacement:n[1],scope:O,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},v(()=>{var V;return!!((V=u.vnode.props)!=null&&V[n[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:y}=Ee(a,{formItemContext:p}),k=he(v(()=>a.loading)),N=b(a.modelValue!==!1),w=b(),Y=b(),Z=v(()=>[i.b(),i.m(g.value),i.is("disabled",k.value),i.is("checked",s.value)]),$=v(()=>[i.e("label"),i.em("label","left"),i.is("active",!s.value)]),G=v(()=>[i.e("label"),i.em("label","right"),i.is("active",s.value)]),x=v(()=>({width:me(a.width)}));S(()=>a.modelValue,()=>{N.value=!0}),S(()=>a.value,()=>{N.value=!1});const j=v(()=>N.value?a.modelValue:a.value),s=v(()=>j.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(j.value)||(r(F,a.inactiveValue),r(U,a.inactiveValue),r(A,a.inactiveValue)),S(s,e=>{var n;w.value.checked=e,a.validateEvent&&((n=p==null?void 0:p.validate)==null||n.call(p,"change").catch(V=>ye()))});const I=()=>{const e=s.value?a.inactiveValue:a.activeValue;r(F,e),r(U,e),r(A,e),se(()=>{w.value.checked=s.value})},L=()=>{if(k.value)return;const{beforeChange:e}=a;if(!e){I();return}const n=e();[W(n),T(n)].includes(!0)||we(O,"beforeChange must return type `Promise<boolean>` or `boolean`"),W(n)?n.then(M=>{M&&I()}).catch(M=>{}):n&&I()},ee=v(()=>i.cssVarBlock({...a.activeColor?{"on-color":a.activeColor}:null,...a.inactiveColor?{"off-color":a.inactiveColor}:null,...a.borderColor?{"border-color":a.borderColor}:null})),ae=()=>{var e,n;(n=(e=w.value)==null?void 0:e.focus)==null||n.call(e)};return J(()=>{w.value.checked=s.value}),l({focus:ae,checked:s}),(e,n)=>(c(),h("div",{class:d(t(Z)),style:H(t(ee)),onClick:le(L,["prevent"])},[_("input",{id:t(y),ref_key:"input",ref:w,class:d(t(i).e("input")),type:"checkbox",role:"switch","aria-checked":t(s),"aria-disabled":t(k),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:t(k),tabindex:e.tabindex,onChange:I,onKeydown:oe(L,["enter"])},null,42,Pe),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(c(),h("span",{key:0,class:d(t($))},[e.inactiveIcon?(c(),m(t(E),{key:0},{default:C(()=>[(c(),m(D(e.inactiveIcon)))]),_:1})):f("v-if",!0),!e.inactiveIcon&&e.inactiveText?(c(),h("span",{key:1,"aria-hidden":t(s)},K(e.inactiveText),9,_e)):f("v-if",!0)],2)):f("v-if",!0),_("span",{ref_key:"core",ref:Y,class:d(t(i).e("core")),style:H(t(x))},[e.inlinePrompt?(c(),h("div",{key:0,class:d(t(i).e("inner"))},[e.activeIcon||e.inactiveIcon?(c(),m(t(E),{key:0,class:d(t(i).is("icon"))},{default:C(()=>[(c(),m(D(t(s)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(c(),h("span",{key:1,class:d(t(i).is("text")),"aria-hidden":!t(s)},K(t(s)?e.activeText:e.inactiveText),11,De)):f("v-if",!0)],2)):f("v-if",!0),_("div",{class:d(t(i).e("action"))},[e.loading?(c(),m(t(E),{key:0,class:d(t(i).is("loading"))},{default:C(()=>[ne(t(be))]),_:1},8,["class"])):f("v-if",!0)],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(c(),h("span",{key:1,class:d(t(G))},[e.activeIcon?(c(),m(t(E),{key:0},{default:C(()=>[(c(),m(D(e.activeIcon)))]),_:1})):f("v-if",!0),!e.activeIcon&&e.activeText?(c(),h("span",{key:1,"aria-hidden":!t(s)},K(e.activeText),9,Ke)):f("v-if",!0)],2)):f("v-if",!0)],14,Ne))}});var Ue=ge(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Le=Se(Ue);export{Le as E};
