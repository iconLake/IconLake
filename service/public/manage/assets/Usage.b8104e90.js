import{d as f,u as h,m as g,p as d,o as m,c as b,b as e,t as s,e as l,J as u,g as k,i as M,k as x,_ as y}from"./index.c3ac6b9b.js";import{u as L}from"./cache.05004cf3.js";import"./@iconlake/client.0b258216.js";const B={class:"container"},I={class:"flex"},S={class:"title"},U={class:"title-sub"},T={class:"bar"},w={class:"msg"},A={class:"flex"},G={class:"title"},N={class:"title-sub"},P={class:"bar"},V={class:"msg"},$={class:"msg"},C=f({__name:"Usage",setup(D){const i=M(),{t:a}=h(),o=g({total:1024*1024*100,free:0}),n=g({total:1e4,free:0}),r=t=>t?Math.round(t/1024/1024*100)/100:0,_=d(()=>{if(i.isLoading())return 0;if(!o.value.free||o.value.free<=0)return 100;const t=o.value.free/o.value.total;return 100-(t>1?1:t)*100}),v=d(()=>{if(i.isLoading())return 0;if(!n.value.free||n.value.free<=0)return 100;const t=n.value.free/n.value.total;return 100-(t>1?1:t)*100}),p=async()=>{await L.getUsage().onUpdate(async t=>{o.value=t.storage,n.value={total:t.ai.tokens.total,free:t.ai.tokens.total-t.ai.tokens.used}})};return m(async()=>{await p(),i.end()}),(t,c)=>(x(),b("div",B,[e("div",I,[e("span",S,s(l(a)("cloudStorage")),1),e("span",U,s(l(a)("freeStorage"))+": "+s(r(o.value.free))+"MB/"+s(r(o.value.total))+"MB",1)]),e("div",T,[e("div",{class:"progress",style:u({width:`${_.value}%`})},null,4)]),e("div",w,[e("p",null,s(l(a)("getMoreStorageMsg")),1)]),e("div",A,[e("span",G,s(l(a)("aiTokens")),1),e("span",N,s(l(a)("freeAITokens"))+": "+s(n.value.free)+"/"+s(n.value.total),1)]),e("div",P,[e("div",{class:"progress",style:u({width:`${v.value}%`})},null,4)]),e("div",V,[e("p",null,s(l(a)("getMoreAITokensMsg")),1)]),e("div",$,[e("p",null,s(l(a)("getMoreUsageMsg")),1),c[0]||(c[0]=k('<p data-v-b13e7020><a target="_blank" href="https://gitee.com/iconLake" title="Gitee" data-v-b13e7020><img src="/imgs/gitee-logo.svg" alt="gitee" data-v-b13e7020></a><a target="_blank" href="https://github.com/iconLake" title="Github" data-v-b13e7020><img src="/imgs/github-logo.svg" alt="github" data-v-b13e7020></a><a target="_blank" href="https://x.com/iconLake" title="X" data-v-b13e7020><img src="/imgs/x-logo.svg" alt="x" data-v-b13e7020></a></p>',1))])]))}});const j=y(C,[["__scopeId","data-v-b13e7020"]]);export{j as default};
