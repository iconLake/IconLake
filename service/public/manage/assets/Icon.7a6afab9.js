import{U as k}from"./User.3e9238d3.js";import{I as x}from"./Icon.baf4c0eb.js";import{H as L}from"./Header.5323aa62.js";import{d as P,u as T,E as j,r as F,m as v,o as U,c as i,a as r,e as o,b as s,t as e,F as g,h as V,i as B,k as d,_ as $}from"./index.c3ac6b9b.js";import{p as h}from"./project.3e053923.js";import{p as A}from"./cache.05004cf3.js";import"./user.237cd0b6.js";import"./extension.dbd15d4c.js";import"./@iconlake/client.0b258216.js";const C={class:"analyse"},E={class:"flex stretch"},H={class:"flex column info"},N={class:"label"},D={class:"value"},M={class:"label"},O={class:"value"},R={class:"m-top"},S={class:"label"},q={class:"value"},w={class:"title"},z={class:"list"},G=["href"],J={class:"num"},K=P({__name:"Icon",setup(Q){const{t:n}=T(),I=B(),_=j(),c=_.params.projectId,u=_.params.id,l=F({info:{}}),p=v([]),f=v("--");async function y(){h.getIcon(c,u).onUpdate(async t=>{Object.assign(l,t)})}async function b(){h.getIconPages(c,u).onUpdate(async t=>{p.value=t.pages,t.updateTime&&(f.value=A(t.updateTime))})}return U(()=>{Promise.all([y(),b()]).finally(()=>{I.end()})}),(t,m)=>(d(),i(g,null,[r(L,{back:`/icons/${o(c)}`},null,8,["back"]),r(k),s("div",C,[s("div",E,[r(x,{info:l.info},null,8,["info"]),s("div",H,[s("div",null,[s("span",N,e(o(n)("name")),1),s("span",D,e(l.info.name),1)]),s("div",null,[s("div",null,[s("span",M,e(o(n)("updateTime")),1),s("span",O,e(f.value),1)]),s("div",R,[s("span",S,e(o(n)("statPeriod")),1),s("span",q,e(o(n)("last30d")),1)])])])]),s("div",w,e(o(n)("refererPageLink")),1),s("div",z,[(d(!0),i(g,null,V(p.value,a=>(d(),i("div",{key:a.url,class:"item flex"},[s("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},e(a.url),9,G),s("div",null,[s("span",null,e(o(n)("refererCount"))+"\uFF1A",1),s("span",J,e(a.count),1)])]))),128))])]),m[0]||(m[0]=s("div",{class:"footer"},null,-1))],64))}});const as=$(K,[["__scopeId","data-v-6fe422c3"]]);export{as as default};
