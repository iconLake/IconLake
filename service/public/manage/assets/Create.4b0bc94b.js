import{d as v,u as x,r as y,m as b,p as V,o as S,c as j,a as d,b as e,A as w,t as n,e as a,B as m,C as u,v as C,l as k,f as N,F as T,i as D,k as p,D as P,_ as h}from"./index.c3ac6b9b.js";import{H as L}from"./Header.5323aa62.js";import{c as B}from"./project.3e053923.js";import{P as c,t as E}from"./cache.05004cf3.js";import{S as U}from"./Select.5e65dca5.js";import{L as I}from"./Loading.7dd0339b.js";import"./@iconlake/client.0b258216.js";import"./extension.dbd15d4c.js";const M={class:"main flex stretch"},O={class:"project bg-main grow flex center"},A={class:"item"},G={class:"item"},Y={class:"input flex"},F={class:"item"},H={class:"input textarea-input flex start"},R=["disabled"],$=v({__name:"Create",setup(J){const{t:o}=x(),f=D(),s=y({_id:"",type:c.SVG.toString(),name:"",desc:""}),i=b(!1),g=V(()=>s.name);async function _(){if(i.value)return;i.value=!0;const r=await B({name:s.name,desc:s.desc,type:+s.type});s._id=r._id,P.replace(`/icons/${r._id}`),E.success(o("creatingProjectDone"))}return S(()=>{f.end()}),(r,t)=>(p(),j(T,null,[d(L,{back:"/home",white:!0}),e("div",M,[e("div",O,[t[5]||(t[5]=e("div",{class:"slogan-left"}," YOU CREATE, ",-1)),e("form",{class:"fm",onSubmit:w(_,["prevent"])},[e("h1",null,n(a(o)("newProject")),1),e("h2",null,n(a(o)("fillProjectNameAndDescription")),1),e("div",A,[e("label",null,n(a(o)("projectType")),1),d(U,{modelValue:s.type,"onUpdate:modelValue":t[0]||(t[0]=l=>s.type=l),options:[{label:a(o)("projectTypeSvg"),value:a(c).SVG.toString()},{label:a(o)("projectTypeImg"),value:a(c).IMG.toString()}]},null,8,["modelValue","options"])]),e("div",G,[e("label",null,n(a(o)("projectName")),1),e("div",Y,[t[3]||(t[3]=e("i",{class:"iconfont icon-name"},null,-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.name=l),class:"grow",autocomplete:"off",autofocus:"",maxlength:"64",type:"text",name:"name"},null,512),[[u,s.name]])])]),e("div",F,[e("label",null,n(a(o)("projectDescription")),1),e("div",H,[t[4]||(t[4]=e("i",{class:"iconfont icon-desc"},null,-1)),m(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.desc=l),class:"grow",autocomplete:"off",maxlength:"300",name:"desc"},null,512),[[u,s.desc]])])]),e("button",{class:"bg-danger flex center",type:"submit",disabled:!g.value},[C(n(a(o)("createNow"))+" ",1),i.value?(p(),k(I,{key:0})):N("",!0)],8,R)],32)]),t[6]||(t[6]=e("div",{class:"illus flex"},[e("div",{class:"slogan-right"}," YOU OWN! "),e("div",{class:"img"},[e("img",{src:"/imgs/illus-2.png",alt:"iconLake"})])],-1))])],64))}});const te=h($,[["__scopeId","data-v-f7c6c250"]]);export{te as default};
