import{u as c}from"./cache.05004cf3.js";import{r as u,m as f,o as l,n as d}from"./index.c3ac6b9b.js";const e=u({_id:"",tokenExpire:new Date});let t=f(!1);function h(){const n=async()=>{if(t.value){await new Promise(a=>{const o=d(t,()=>{t.value||(o(),a(!0))},{immediate:!0})});return}t.value=!0,await c.info().onUpdate(async a=>{Object.assign(e,a)}),t.value=!1},s=async()=>{await n()},r=()=>{var a;return!!((a=e==null?void 0:e.blockchain)!=null&&a.id)},i=async()=>(e._id||await n(),e);return l(()=>{!e._id&&n()}),{userInfo:e,getUserInfo:i,fetchUserInfo:n,refreshUserInfo:s,hasBlockchainAccount:r}}export{h as u};
