var __awaiter=this&&this.__awaiter||function(t,r,d,l){return new(d=d||Promise)(function(o,e){function n(t){try{a(l.next(t))}catch(t){e(t)}}function i(t){try{a(l.throw(t))}catch(t){e(t)}}function a(t){var e;t.done?o(t.value):((e=t.value)instanceof d?e:new d(function(t){t(e)})).then(n,i)}a((l=l.apply(t,r||[])).next())})};(()=>{const t=window.iconlakeAPI;if(t){const n=document.createElement("div");n.style.position="fixed",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.zIndex="999",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.gap="1rem",n.style.backgroundColor="rgba(0,0,0,0.5)",n.style.color="#fff",n.style.padding="1rem",document.body.appendChild(n);var e=(t,e)=>{const o=document.createElement("button");o.innerText=t,o.onclick=()=>__awaiter(void 0,void 0,void 0,function*(){o.disabled=!0,yield e(),o.disabled=!1}),n.appendChild(o)},o=()=>{var t=document.createElement("div");t.style.width="1rem",t.style.height="1rem",n.appendChild(t)};const i={classId:"",nftId:"",author:""};__awaiter(void 0,void 0,void 0,function*(){i.classId=t.project.id,i.nftId=t.nft.id,i.author=yield t.nft.getInfo().then(t=>t.data.author)}),e("封禁作者",()=>__awaiter(void 0,void 0,void 0,function*(){var t=prompt("作者账户地址:",null!=(t=i.author)?t:"");t&&((t=yield fetch("/api/admin/blacklist/add",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({address:t})}).then(t=>t.json())).error?alert(t.error):location.reload())})),e("解封作者",()=>__awaiter(void 0,void 0,void 0,function*(){var t=prompt("作者账户地址:",null!=(t=i.author)?t:"");t&&((t=yield fetch("/api/admin/blacklist/del",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({address:t})}).then(t=>t.json())).error?alert(t.error):location.reload())})),o(),e("封禁项目",()=>__awaiter(void 0,void 0,void 0,function*(){var t=prompt("项目ID:",null!=(t=i.classId)?t:"");t&&((t=yield fetch("/api/admin/blacklist/add",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({projectId:t})}).then(t=>t.json())).error?alert(t.error):location.reload())})),e("解封项目",()=>__awaiter(void 0,void 0,void 0,function*(){var t=prompt("项目ID:",null!=(t=i.classId)?t:"");t&&((t=yield fetch("/api/admin/blacklist/del",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({projectId:t})}).then(t=>t.json())).error?alert(t.error):location.reload())})),o(),e("封禁NFT",()=>__awaiter(void 0,void 0,void 0,function*(){var t,e=prompt("项目ID:",null!=(e=i.classId)?e:"");e&&(t=prompt("NFT ID:",null!=(t=i.nftId)?t:""))&&((e=yield fetch("/api/admin/blacklist/add",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({projectId:e,nftId:t})}).then(t=>t.json())).error?alert(e.error):location.reload())})),e("解封NFT",()=>__awaiter(void 0,void 0,void 0,function*(){var t,e=prompt("项目ID:",null!=(e=i.classId)?e:"");e&&(t=prompt("NFT ID:",null!=(t=i.nftId)?t:""))&&((e=yield fetch("/api/admin/blacklist/del",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({projectId:e,nftId:t})}).then(t=>t.json())).error?alert(e.error):location.reload())}))}else console.error("window.iconlakeAPI is not defined")})();